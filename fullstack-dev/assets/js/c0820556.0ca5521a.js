"use strict";(self.webpackChunkdocs_site=self.webpackChunkdocs_site||[]).push([[1792],{582:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"features/cookie-consent/cookie-consent-management","title":"Cookie Consent Management for E-commerce Website","description":"Overview","source":"@site/docs/features/cookie-consent/cookie-consent-management.md","sourceDirName":"features/cookie-consent","slug":"/features/cookie-consent/cookie-consent-management","permalink":"/fullstack-dev/docs/features/cookie-consent/cookie-consent-management","draft":false,"unlisted":false,"editUrl":"https://github.com/tamnk74/fullstack-dev/tree/main/docs-site/docs/features/cookie-consent/cookie-consent-management.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Features","permalink":"/fullstack-dev/docs/features"},"next":{"title":"Geo-targeting Implementation Guide","permalink":"/fullstack-dev/docs/features/cookie-consent/geo-targeting-implementation"}}');var s=i(5813),o=i(7814);const a={},r="Cookie Consent Management for E-commerce Website",c={},l=[{value:"Overview",id:"overview",level:2},{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Legal Requirements &amp; Compliance",id:"legal-requirements--compliance",level:2},{value:"Global Privacy Regulation Overview",id:"global-privacy-regulation-overview",level:3},{value:"European Union (GDPR + ePrivacy Directive)",id:"european-union-gdpr--eprivacy-directive",level:3},{value:"United Kingdom (UK GDPR + PECR)",id:"united-kingdom-uk-gdpr--pecr",level:3},{value:"United States - Federal and State Laws",id:"united-states---federal-and-state-laws",level:3},{value:"California (CCPA/CPRA)",id:"california-ccpacpra",level:4},{value:"Virginia (VCDPA) - Effective January 1, 2023",id:"virginia-vcdpa---effective-january-1-2023",level:4},{value:"Colorado (CPA) - Effective July 1, 2023",id:"colorado-cpa---effective-july-1-2023",level:4},{value:"Connecticut (CTDPA) - Effective July 1, 2023",id:"connecticut-ctdpa---effective-july-1-2023",level:4},{value:"Canada (PIPEDA + Provincial Laws)",id:"canada-pipeda--provincial-laws",level:3},{value:"Brazil (Lei Geral de Prote\xe7\xe3o de Dados - LGPD)",id:"brazil-lei-geral-de-prote\xe7\xe3o-de-dados---lgpd",level:3},{value:"Australia (Privacy Act 1988)",id:"australia-privacy-act-1988",level:3},{value:"China (Personal Information Protection Law - PIPL)",id:"china-personal-information-protection-law---pipl",level:3},{value:"India (Digital Personal Data Protection Act - DPDP)",id:"india-digital-personal-data-protection-act---dpdp",level:3},{value:"Japan (Personal Information Protection Act - PIPA)",id:"japan-personal-information-protection-act---pipa",level:3},{value:"South Korea (Personal Information Protection Act - PIPA)",id:"south-korea-personal-information-protection-act---pipa",level:3},{value:"Singapore (Personal Data Protection Act - PDPA)",id:"singapore-personal-data-protection-act---pdpa",level:3},{value:"Multi-Jurisdictional Compliance Strategy",id:"multi-jurisdictional-compliance-strategy",level:3},{value:"Implementation Strategy for Global Compliance",id:"implementation-strategy-for-global-compliance",level:3},{value:"Cookie Categories &amp; Classification",id:"cookie-categories--classification",level:2},{value:"1. Strictly Necessary Cookies",id:"1-strictly-necessary-cookies",level:3},{value:"2. Performance/Analytics Cookies",id:"2-performanceanalytics-cookies",level:3},{value:"3. Functional Cookies",id:"3-functional-cookies",level:3},{value:"4. Marketing/Advertising Cookies",id:"4-marketingadvertising-cookies",level:3},{value:"Technical Implementation",id:"technical-implementation",level:2},{value:"Cookie Consent Library Selection",id:"cookie-consent-library-selection",level:3},{value:"Recommended Libraries:",id:"recommended-libraries",level:4},{value:"Next.js Implementation Example",id:"nextjs-implementation-example",level:3},{value:"1. Cookie Consent Provider",id:"1-cookie-consent-provider",level:4},{value:"2. Cookie Banner Component",id:"2-cookie-banner-component",level:4},{value:"3. Cookie Management Hook",id:"3-cookie-management-hook",level:4},{value:"4. Server-Side Cookie Handling (NestJS)",id:"4-server-side-cookie-handling-nestjs",level:4},{value:"5. Cookie Policy Page",id:"5-cookie-policy-page",level:4},{value:"UI/UX Design Guidelines",id:"uiux-design-guidelines",level:2},{value:"Design Principles",id:"design-principles",level:3},{value:"Banner Placement Options",id:"banner-placement-options",level:3},{value:"Color Scheme",id:"color-scheme",level:3},{value:"Integration with Analytics &amp; Marketing Tools",id:"integration-with-analytics--marketing-tools",level:2},{value:"Google Analytics 4 Integration",id:"google-analytics-4-integration",level:3},{value:"Facebook Pixel Integration",id:"facebook-pixel-integration",level:3},{value:"Testing &amp; Validation",id:"testing--validation",level:2},{value:"Automated Testing",id:"automated-testing",level:3},{value:"Manual Testing Checklist",id:"manual-testing-checklist",level:3},{value:"GDPR Compliance Testing",id:"gdpr-compliance-testing",level:3},{value:"Deployment Strategy",id:"deployment-strategy",level:2},{value:"Environment Configuration",id:"environment-configuration",level:3},{value:"Deployment Checklist",id:"deployment-checklist",level:3},{value:"Rollout Strategy",id:"rollout-strategy",level:3},{value:"Monitoring &amp; Maintenance",id:"monitoring--maintenance",level:2},{value:"Key Metrics to Track",id:"key-metrics-to-track",level:3},{value:"Monitoring Dashboard",id:"monitoring-dashboard",level:3},{value:"Maintenance Tasks",id:"maintenance-tasks",level:3},{value:"Weekly",id:"weekly",level:4},{value:"Monthly",id:"monthly",level:4},{value:"Quarterly",id:"quarterly",level:4},{value:"Troubleshooting Common Issues",id:"troubleshooting-common-issues",level:2},{value:"Issue: Cookies not being removed after consent withdrawal",id:"issue-cookies-not-being-removed-after-consent-withdrawal",level:3},{value:"Issue: Scripts loading before consent",id:"issue-scripts-loading-before-consent",level:3},{value:"Issue: Banner not showing on Safari",id:"issue-banner-not-showing-on-safari",level:3},{value:"Legal Considerations",id:"legal-considerations",level:2},{value:"Documentation Requirements",id:"documentation-requirements",level:3},{value:"Regular Reviews",id:"regular-reviews",level:3},{value:"Cookie Consent Compliance Verification by Country",id:"cookie-consent-compliance-verification-by-country",level:2},{value:"1. European Union (GDPR &amp; ePrivacy Directive)",id:"1-european-union-gdpr--eprivacy-directive",level:3},{value:"Verification Checklist",id:"verification-checklist",level:4},{value:"Manual Verification Steps",id:"manual-verification-steps",level:4},{value:"2. United States (CCPA &amp; State Laws)",id:"2-united-states-ccpa--state-laws",level:3},{value:"California (CCPA/CPRA) Verification",id:"california-ccpacpra-verification",level:4},{value:"Other US States",id:"other-us-states",level:4},{value:"3. United Kingdom (UK GDPR &amp; PECR)",id:"3-united-kingdom-uk-gdpr--pecr",level:3},{value:"4. Canada (PIPEDA)",id:"4-canada-pipeda",level:3},{value:"5. Brazil (LGPD)",id:"5-brazil-lgpd",level:3},{value:"6. Australia (Privacy Act)",id:"6-australia-privacy-act",level:3},{value:"7. Comprehensive Multi-Jurisdiction Testing",id:"7-comprehensive-multi-jurisdiction-testing",level:3},{value:"8. Continuous Compliance Monitoring",id:"8-continuous-compliance-monitoring",level:3},{value:"9. Legal Documentation &amp; Audit Trail",id:"9-legal-documentation--audit-trail",level:3},{value:"10. Best Practices for Ongoing Compliance",id:"10-best-practices-for-ongoing-compliance",level:3},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"cookie-consent-management-for-e-commerce-website",children:"Cookie Consent Management for E-commerce Website"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"This document provides a comprehensive guide for implementing a robust cookie consent management system for an e-commerce website, ensuring compliance with GDPR, CCPA, and other privacy regulations while maintaining optimal user experience and business functionality."}),"\n",(0,s.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#legal-requirements--compliance",children:"Legal Requirements & Compliance"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#cookie-categories--classification",children:"Cookie Categories & Classification"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#technical-implementation",children:"Technical Implementation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#uiux-design-guidelines",children:"UI/UX Design Guidelines"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#integration-with-analytics--marketing-tools",children:"Integration with Analytics & Marketing Tools"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#testing--validation",children:"Testing & Validation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#deployment-strategy",children:"Deployment Strategy"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#monitoring--maintenance",children:"Monitoring & Maintenance"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"legal-requirements--compliance",children:"Legal Requirements & Compliance"}),"\n",(0,s.jsx)(n.h3,{id:"global-privacy-regulation-overview",children:"Global Privacy Regulation Overview"}),"\n",(0,s.jsx)(n.p,{children:"Cookie and privacy laws vary significantly across jurisdictions. Understanding these differences is crucial for global compliance:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Region"}),(0,s.jsx)(n.th,{children:"Primary Laws"}),(0,s.jsx)(n.th,{children:"Key Requirements"}),(0,s.jsx)(n.th,{children:"Consent Type"}),(0,s.jsx)(n.th,{children:"Enforcement Level"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"EU/EEA"}),(0,s.jsx)(n.td,{children:"GDPR + ePrivacy"}),(0,s.jsx)(n.td,{children:"Explicit consent, granular control"}),(0,s.jsx)(n.td,{children:"Opt-in"}),(0,s.jsx)(n.td,{children:"Very High"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"UK"}),(0,s.jsx)(n.td,{children:"UK GDPR + PECR"}),(0,s.jsx)(n.td,{children:"Similar to EU GDPR"}),(0,s.jsx)(n.td,{children:"Opt-in"}),(0,s.jsx)(n.td,{children:"High"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"California"}),(0,s.jsx)(n.td,{children:"CCPA/CPRA"}),(0,s.jsx)(n.td,{children:"Do Not Sell, GPC support"}),(0,s.jsx)(n.td,{children:"Opt-out"}),(0,s.jsx)(n.td,{children:"High"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Canada"}),(0,s.jsx)(n.td,{children:"PIPEDA + Provincial"}),(0,s.jsx)(n.td,{children:"Meaningful consent"}),(0,s.jsx)(n.td,{children:"Opt-in"}),(0,s.jsx)(n.td,{children:"Medium"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Brazil"}),(0,s.jsx)(n.td,{children:"LGPD"}),(0,s.jsx)(n.td,{children:"Legal basis disclosure"}),(0,s.jsx)(n.td,{children:"Opt-in"}),(0,s.jsx)(n.td,{children:"Medium"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Australia"}),(0,s.jsx)(n.td,{children:"Privacy Act"}),(0,s.jsx)(n.td,{children:"Transparent practices"}),(0,s.jsx)(n.td,{children:"Opt-in/Opt-out"}),(0,s.jsx)(n.td,{children:"Medium"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"China"}),(0,s.jsx)(n.td,{children:"PIPL"}),(0,s.jsx)(n.td,{children:"Explicit consent, data localization"}),(0,s.jsx)(n.td,{children:"Opt-in"}),(0,s.jsx)(n.td,{children:"High"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"India"}),(0,s.jsx)(n.td,{children:"DPDP Act"}),(0,s.jsx)(n.td,{children:"Consent management"}),(0,s.jsx)(n.td,{children:"Opt-in"}),(0,s.jsx)(n.td,{children:"Emerging"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"european-union-gdpr--eprivacy-directive",children:"European Union (GDPR + ePrivacy Directive)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Applies to"}),": All EU/EEA countries (27 EU countries + Iceland, Liechtenstein, Norway)"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Requirements"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Explicit Consent"}),": Users must actively opt-in for non-essential cookies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Granular Control"}),": Users must be able to choose specific cookie categories"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Withdrawal"}),": Users must be able to withdraw consent at any time"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Clear Information"}),": Cookie purposes must be clearly explained in plain language"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Legitimate Interest"}),": Must be properly documented and justified"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cookie Wall Prohibition"}),": Cannot block access to services for refusing consent"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Pre-checked Boxes Prohibited"}),": Consent boxes cannot be pre-ticked"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Technical Implementation Requirements"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface GDPRConsent {\n  timestamp: string;\n  version: string;\n  categories: {\n    necessary: boolean; // Always true\n    analytics: boolean;\n    marketing: boolean;\n    functional: boolean;\n  };\n  lawfulBasis: 'consent' | 'legitimate_interest' | 'contract' | 'legal_obligation';\n  consentString: string; // For TCF v2.0 compliance\n}\n\n// GDPR-compliant consent recording\nfunction recordGDPRConsent(consent: GDPRConsent): void {\n  const record = {\n    ...consent,\n    ipAddress: anonymizeIP(getUserIP()), // Last octet anonymized\n    userAgent: navigator.userAgent,\n    referrer: document.referrer,\n    consentMethod: 'banner_interaction'\n  };\n  \n  // Store locally and send to server\n  localStorage.setItem('gdpr_consent', JSON.stringify(record));\n  sendConsentToServer(record);\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Specific Country Variations within EU"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Germany"}),": Strict interpretation, requires explicit consent for all cookies except strictly necessary"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"France (CNIL)"}),": Allows consent walls in limited circumstances, strict on analytics cookies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Ireland"}),": Data Protection Commission guidance on legitimate interests"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Netherlands"}),": Authority for Consumers and Markets focus on cookie compliance"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Belgium"}),": APD/GBA strict enforcement on consent mechanisms"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"united-kingdom-uk-gdpr--pecr",children:"United Kingdom (UK GDPR + PECR)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Post-Brexit Considerations"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"UK GDPR largely mirrors EU GDPR but operates independently"}),"\n",(0,s.jsx)(n.li,{children:"Privacy and Electronic Communications Regulations (PECR) apply"}),"\n",(0,s.jsx)(n.li,{children:"Information Commissioner's Office (ICO) provides UK-specific guidance"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Differences from EU"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface UKGDPRConsent extends GDPRConsent {\n  icoGuidanceVersion: string;\n  ukSpecificRequirements: {\n    pecrCompliance: boolean;\n    directMarketingConsent: boolean;\n    emailMarketingOptIn: boolean;\n  };\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"UK-Specific Requirements"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Electronic marketing requires explicit opt-in consent"}),"\n",(0,s.jsx)(n.li,{children:"Clearer guidance on legitimate interests for analytics"}),"\n",(0,s.jsx)(n.li,{children:"ICO guidance on cookie consent and withdrawal"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"united-states---federal-and-state-laws",children:"United States - Federal and State Laws"}),"\n",(0,s.jsx)(n.h4,{id:"california-ccpacpra",children:"California (CCPA/CPRA)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Requirements"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Do Not Sell My Personal Information"}),": Visible link required"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Global Privacy Control (GPC)"}),": Must respect browser signals"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Right to Know"}),": What data is collected and how it's used"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Right to Delete"}),": Personal information deletion upon request"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Right to Opt-Out"}),": Of sale/sharing of personal information"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sensitive Personal Information"}),": Additional protections"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface CCPACompliance {\n  doNotSellVisible: boolean;\n  gpcSupported: boolean;\n  privacyRightsPage: string;\n  dataInventory: {\n    categories: string[];\n    purposes: string[];\n    thirdParties: string[];\n    sources: string[];\n  };\n  optOutMechanism: 'link' | 'form' | 'email' | 'phone';\n}\n\n// GPC Detection and Response\nfunction handleGlobalPrivacyControl(): void {\n  if (navigator.globalPrivacyControl === true) {\n    // Automatically opt-out of data selling\n    updateConsentPreferences({\n      dataSaleOptOut: true,\n      targetedAdvertising: false,\n      crossContextBehavioralAds: false\n    });\n    \n    // Record GPC signal processing\n    recordGPCSignal({\n      timestamp: new Date().toISOString(),\n      action: 'auto_opt_out',\n      signal: 'gpc_detected'\n    });\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"virginia-vcdpa---effective-january-1-2023",children:"Virginia (VCDPA) - Effective January 1, 2023"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Requirements"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Right to access, correct, delete, and port personal data"}),"\n",(0,s.jsx)(n.li,{children:"Right to opt-out of targeted advertising and profiling"}),"\n",(0,s.jsx)(n.li,{children:"Data minimization and purpose limitation"}),"\n",(0,s.jsx)(n.li,{children:"Sensitive data requires opt-in consent"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface VCDPACompliance {\n  dataAccessPortal: boolean;\n  dataCorrection: boolean;\n  dataDeletion: boolean;\n  dataPortability: boolean;\n  targetedAdvertisingOptOut: boolean;\n  profilingOptOut: boolean;\n  sensitiveDataConsent: boolean;\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"colorado-cpa---effective-july-1-2023",children:"Colorado (CPA) - Effective July 1, 2023"}),"\n",(0,s.jsx)(n.p,{children:"Similar to Virginia with additional requirements:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Right to opt-out of targeted advertising and sale"}),"\n",(0,s.jsx)(n.li,{children:"Universal opt-out mechanisms (like GPC)"}),"\n",(0,s.jsx)(n.li,{children:"Data protection assessments for high-risk processing"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"connecticut-ctdpa---effective-july-1-2023",children:"Connecticut (CTDPA) - Effective July 1, 2023"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Requirements"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Similar to Virginia and Colorado"}),"\n",(0,s.jsx)(n.li,{children:"Emphasis on consumer rights and data minimization"}),"\n",(0,s.jsx)(n.li,{children:"Specific requirements for data controllers vs. processors"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"canada-pipeda--provincial-laws",children:"Canada (PIPEDA + Provincial Laws)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Federal Level (PIPEDA)"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Meaningful Consent"}),": Must be informed, specific, and freely given"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Plain Language"}),": Privacy notices in clear, understandable language"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Withdrawal"}),": Easy withdrawal of consent"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Breach Notification"}),": Mandatory reporting of privacy breaches"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface PIPEDAConsent {\n  meaningfulConsent: {\n    informed: boolean;\n    specific: boolean;\n    voluntaryBasis: boolean;\n    clearLanguage: boolean;\n  };\n  purposes: string[];\n  dataTypes: string[];\n  retentionPeriod: string;\n  withdrawalMethod: string;\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Provincial Variations"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Quebec (Bill 64)"}),": Similar to GDPR, explicit consent required"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"British Columbia (PIPA)"}),": Personal Information Protection Act"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Alberta (PIPA)"}),": Similar to BC but with some differences"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'// Quebec-specific implementation\ninterface QuebecLaw25Compliance {\n  explicitConsent: boolean;\n  privacyByDesign: boolean;\n  dataMinimization: boolean;\n  rightsNotification: boolean;\n  breachNotification: {\n    authority: boolean;\n    individuals: boolean;\n    timeline: string; // "immediately"\n  };\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"brazil-lei-geral-de-prote\xe7\xe3o-de-dados---lgpd",children:"Brazil (Lei Geral de Prote\xe7\xe3o de Dados - LGPD)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Requirements"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Legal Basis"}),": Clear legal basis for processing (consent, legitimate interest, etc.)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Subject Rights"}),": Access, correction, deletion, portability, opposition"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Protection Officer (DPO)"}),": Required for large-scale processing"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"International Transfers"}),": Adequate protection required"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface LGPDCompliance {\n  legalBasis: 'consent' | 'legitimate_interest' | 'contract' | 'legal_obligation' | \n             'life_protection' | 'public_interest' | 'credit_protection';\n  dataSubjectRights: {\n    access: boolean;\n    correction: boolean;\n    deletion: boolean;\n    portability: boolean;\n    anonymization: boolean;\n    opposition: boolean;\n  };\n  dpoContact: string;\n  internationalTransfers: {\n    adequacyDecision: boolean;\n    safeguards: string[];\n  };\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"australia-privacy-act-1988",children:"Australia (Privacy Act 1988)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Requirements"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Australian Privacy Principles (APPs)"}),": 13 principles governing data handling"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Notifiable Data Breaches"}),": Mandatory breach notification scheme"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Consent"}),": Clear and informed consent for sensitive information"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Overseas Transfers"}),": Must ensure adequate protection"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface AustralianPrivacyCompliance {\n  australianPrivacyPrinciples: {\n    openTransparentDealing: boolean;\n    anonymityPseudonymity: boolean;\n    collectionSolicited: boolean;\n    dealingUnsolicited: boolean;\n    notification: boolean;\n    useDisclosure: boolean;\n    directMarketing: boolean;\n    crossBorderDisclosure: boolean;\n    adoption: boolean;\n    qualityIntegrity: boolean;\n    security: boolean;\n    accessCorrection: boolean;\n  };\n  notifiableDataBreaches: boolean;\n  overseasTransferSafeguards: string[];\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"china-personal-information-protection-law---pipl",children:"China (Personal Information Protection Law - PIPL)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Requirements"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Explicit Consent"}),": Required for processing personal information"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Localization"}),": Critical data must be stored within China"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cross-border Transfers"}),": Strict requirements and approvals needed"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sensitive Personal Information"}),": Higher protection standards"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface PIPLCompliance {\n  explicitConsent: {\n    informed: boolean;\n    specific: boolean;\n    clear: boolean;\n    voluntary: boolean;\n  };\n  dataLocalization: {\n    criticalData: boolean;\n    personalDataOver1Million: boolean;\n    overseasTransferAssessment: boolean;\n  };\n  sensitiveDataProtection: {\n    separateConsent: boolean;\n    minimumAge: number; // 14 years\n    specificPurpose: boolean;\n  };\n  dataProcessorObligations: boolean;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"india-digital-personal-data-protection-act---dpdp",children:"India (Digital Personal Data Protection Act - DPDP)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Requirements"})," (Act passed in 2023, rules pending):"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Consent Management"}),": Clear, specific, informed, and freely given"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Principal Rights"}),": Access, correction, deletion, grievance redressal"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Children's Data"}),": Parental consent required for under 18"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cross-border Transfers"}),": Government approval may be required"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface DPDPCompliance {\n  validConsent: {\n    clear: boolean;\n    specific: boolean;\n    informed: boolean;\n    freeGiven: boolean;\n    retrievable: boolean;\n  };\n  dataPrincipalRights: {\n    access: boolean;\n    correction: boolean;\n    deletion: boolean;\n    grievanceRedressal: boolean;\n  };\n  childrensData: {\n    parentalConsent: boolean;\n    ageVerification: boolean;\n    minimumAge: number; // 18 years\n  };\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"japan-personal-information-protection-act---pipa",children:"Japan (Personal Information Protection Act - PIPA)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Requirements"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Consent"}),": Required for collection and use of personal information"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Opt-out"}),": For third-party sharing (unless consent obtained)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cross-border Transfers"}),": Consent or adequate protection required"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sensitive Data"}),": Special categories require opt-in consent"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface JapanPIPACompliance {\n  personalInfoConsent: boolean;\n  thirdPartyOptOut: boolean;\n  crossBorderConsent: boolean;\n  sensitiveDataOptIn: boolean;\n  dataRetentionLimits: boolean;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"south-korea-personal-information-protection-act---pipa",children:"South Korea (Personal Information Protection Act - PIPA)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Requirements"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Consent"}),": Required for collection, use, and provision to third parties"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Minimization"}),": Collect only necessary information"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Retention Limits"}),": Delete when purpose is achieved"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"International Transfers"}),": Consent or adequate protection required"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface KoreaPIPACompliance {\n  informedConsent: {\n    collectionPurpose: boolean;\n    dataItems: boolean;\n    retentionPeriod: boolean;\n    optOutRights: boolean;\n  };\n  dataMinimization: boolean;\n  retentionLimits: boolean;\n  internationalTransferConsent: boolean;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"singapore-personal-data-protection-act---pdpa",children:"Singapore (Personal Data Protection Act - PDPA)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Requirements"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Consent"}),": Voluntary provision of consent for collection, use, or disclosure"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Purpose Limitation"}),": Data used only for stated purposes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Breach Notification"}),": Mandatory notification to PDPC and individuals"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Do Not Call Registry"}),": For marketing communications"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'interface SingaporePDPACompliance {\n  voluntaryConsent: boolean;\n  purposeLimitation: boolean;\n  dataBreachNotification: {\n    authority: boolean;\n    individuals: boolean;\n    timeline: string; // "as soon as practicable"\n  };\n  doNotCallRegistry: boolean;\n  accessCorrection: boolean;\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"multi-jurisdictional-compliance-strategy",children:"Multi-Jurisdictional Compliance Strategy"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface GlobalComplianceManager {\n  detectUserJurisdiction(): string;\n  getApplicableLaws(jurisdiction: string): PrivacyLaw[];\n  generateComplianceConfig(laws: PrivacyLaw[]): ConsentConfig;\n  validateCompliance(config: ConsentConfig): ComplianceResult;\n}\n\nclass GlobalPrivacyCompliance implements GlobalComplianceManager {\n  private jurisdictionMap = new Map<string, PrivacyLaw[]>([\n    ['EU', [PrivacyLaw.GDPR, PrivacyLaw.EPRIVACY]],\n    ['UK', [PrivacyLaw.UK_GDPR, PrivacyLaw.PECR]],\n    ['US-CA', [PrivacyLaw.CCPA, PrivacyLaw.CPRA]],\n    ['US-VA', [PrivacyLaw.VCDPA]],\n    ['US-CO', [PrivacyLaw.CPA]],\n    ['CA', [PrivacyLaw.PIPEDA]],\n    ['CA-QC', [PrivacyLaw.PIPEDA, PrivacyLaw.QUEBEC_LAW25]],\n    ['BR', [PrivacyLaw.LGPD]],\n    ['AU', [PrivacyLaw.PRIVACY_ACT]],\n    ['CN', [PrivacyLaw.PIPL]],\n    ['IN', [PrivacyLaw.DPDP]],\n    ['JP', [PrivacyLaw.JAPAN_PIPA]],\n    ['KR', [PrivacyLaw.KOREA_PIPA]],\n    ['SG', [PrivacyLaw.SINGAPORE_PDPA]]\n  ]);\n\n  detectUserJurisdiction(): string {\n    // Use geo-IP, browser locale, or explicit user selection\n    const geoIP = this.getGeoIPCountry();\n    const browserLocale = navigator.language;\n    const userSelection = localStorage.getItem('user_jurisdiction');\n    \n    return userSelection || this.mapToJurisdiction(geoIP) || 'US';\n  }\n\n  getApplicableLaws(jurisdiction: string): PrivacyLaw[] {\n    return this.jurisdictionMap.get(jurisdiction) || [PrivacyLaw.DEFAULT];\n  }\n\n  generateComplianceConfig(laws: PrivacyLaw[]): ConsentConfig {\n    const config: ConsentConfig = {\n      consentType: 'opt-in',\n      granularControl: false,\n      cookieWallAllowed: false,\n      gpcSupport: false,\n      dataSubjectRights: [],\n      retentionRequirements: [],\n      breachNotification: false\n    };\n\n    for (const law of laws) {\n      switch (law) {\n        case PrivacyLaw.GDPR:\n          config.consentType = 'opt-in';\n          config.granularControl = true;\n          config.cookieWallAllowed = false;\n          config.dataSubjectRights.push('access', 'deletion', 'portability', 'rectification');\n          break;\n          \n        case PrivacyLaw.CCPA:\n          config.gpcSupport = true;\n          config.dataSubjectRights.push('access', 'deletion', 'opt-out-sale');\n          break;\n          \n        case PrivacyLaw.LGPD:\n          config.consentType = 'opt-in';\n          config.dataSubjectRights.push('access', 'correction', 'deletion', 'portability', 'opposition');\n          break;\n          \n        // Add more laws as needed\n      }\n    }\n\n    return config;\n  }\n\n  validateCompliance(config: ConsentConfig): ComplianceResult {\n    const issues: string[] = [];\n    \n    // Validate configuration against requirements\n    if (config.consentType === 'opt-out' && config.granularControl === false) {\n      issues.push('Granular control required for opt-out consent');\n    }\n    \n    if (config.gpcSupport === false && this.requiresGPC(config)) {\n      issues.push('Global Privacy Control support required');\n    }\n    \n    return {\n      isCompliant: issues.length === 0,\n      issues,\n      recommendations: this.generateRecommendations(issues)\n    };\n  }\n\n  private getGeoIPCountry(): string {\n    // Implementation to get country from geo-IP\n    return 'US'; // Placeholder\n  }\n\n  private mapToJurisdiction(country: string): string {\n    const countryMap: Record<string, string> = {\n      'US': 'US',\n      'CA': 'CA', 'GB': 'UK', 'DE': 'EU', 'FR': 'EU', 'IT': 'EU',\n      'BR': 'BR', 'AU': 'AU', 'CN': 'CN', 'IN': 'IN',\n      'JP': 'JP', 'KR': 'KR', 'SG': 'SG'\n    };\n    \n    return countryMap[country] || 'US';\n  }\n\n  private requiresGPC(config: ConsentConfig): boolean {\n    // Check if jurisdiction requires GPC support\n    return config.dataSubjectRights.includes('opt-out-sale');\n  }\n\n  private generateRecommendations(issues: string[]): string[] {\n    // Generate actionable recommendations based on issues\n    return issues.map(issue => `Recommendation: ${issue}`);\n  }\n}\n\nenum PrivacyLaw {\n  GDPR = 'gdpr',\n  EPRIVACY = 'eprivacy',\n  UK_GDPR = 'uk_gdpr',\n  PECR = 'pecr',\n  CCPA = 'ccpa',\n  CPRA = 'cpra',\n  VCDPA = 'vcdpa',\n  CPA = 'cpa',\n  PIPEDA = 'pipeda',\n  QUEBEC_LAW25 = 'quebec_law25',\n  LGPD = 'lgpd',\n  PRIVACY_ACT = 'privacy_act',\n  PIPL = 'pipl',\n  DPDP = 'dpdp',\n  JAPAN_PIPA = 'japan_pipa',\n  KOREA_PIPA = 'korea_pipa',\n  SINGAPORE_PDPA = 'singapore_pdpa',\n  DEFAULT = 'default'\n}\n\ninterface ConsentConfig {\n  consentType: 'opt-in' | 'opt-out';\n  granularControl: boolean;\n  cookieWallAllowed: boolean;\n  gpcSupport: boolean;\n  dataSubjectRights: string[];\n  retentionRequirements: string[];\n  breachNotification: boolean;\n}\n\ninterface ComplianceResult {\n  isCompliant: boolean;\n  issues: string[];\n  recommendations: string[];\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"implementation-strategy-for-global-compliance",children:"Implementation Strategy for Global Compliance"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Global compliance implementation\nclass CookieConsentGlobalManager {\n  private compliance: GlobalPrivacyCompliance;\n  private currentJurisdiction: string;\n  private currentConfig: ConsentConfig;\n\n  constructor() {\n    this.compliance = new GlobalPrivacyCompliance();\n    this.currentJurisdiction = this.compliance.detectUserJurisdiction();\n    this.currentConfig = this.generateConfig();\n  }\n\n  private generateConfig(): ConsentConfig {\n    const laws = this.compliance.getApplicableLaws(this.currentJurisdiction);\n    return this.compliance.generateComplianceConfig(laws);\n  }\n\n  renderConsentBanner(): void {\n    const bannerConfig = this.getBannerConfig();\n    const banner = new ConsentBanner(bannerConfig);\n    banner.render();\n  }\n\n  private getBannerConfig(): BannerConfig {\n    return {\n      jurisdiction: this.currentJurisdiction,\n      config: this.currentConfig,\n      texts: this.getLocalizedTexts(),\n      layout: this.getLayoutForJurisdiction(),\n      buttons: this.getButtonsForJurisdiction()\n    };\n  }\n\n  private getLocalizedTexts(): LocalizedTexts {\n    // Return localized texts based on jurisdiction and language\n    const textMap: Record<string, LocalizedTexts> = {\n      'EU': {\n        title: 'We use cookies',\n        description: 'We use cookies to enhance your browsing experience and analyze our traffic.',\n        acceptAll: 'Accept All',\n        rejectAll: 'Reject All',\n        customize: 'Manage Preferences',\n        necessary: 'Strictly Necessary',\n        analytics: 'Analytics',\n        marketing: 'Marketing',\n        functional: 'Functional'\n      },\n      'US-CA': {\n        title: 'Your Privacy Choices',\n        description: 'We may share your information with third parties. You have the right to opt out.',\n        acceptAll: 'Allow All',\n        rejectAll: 'Do Not Sell My Info',\n        customize: 'Privacy Settings',\n        // ... other texts\n      }\n      // Add more jurisdictions\n    };\n\n    return textMap[this.currentJurisdiction] || textMap['US'];\n  }\n\n  private getLayoutForJurisdiction(): BannerLayout {\n    if (this.currentJurisdiction.startsWith('EU') || this.currentJurisdiction === 'UK') {\n      return BannerLayout.GDPR_COMPLIANT;\n    } else if (this.currentJurisdiction.startsWith('US-CA')) {\n      return BannerLayout.CCPA_COMPLIANT;\n    }\n    return BannerLayout.DEFAULT;\n  }\n\n  private getButtonsForJurisdiction(): ButtonConfig[] {\n    const baseButtons: ButtonConfig[] = [\n      { type: 'accept', text: 'Accept All', style: 'primary' },\n      { type: 'customize', text: 'Customize', style: 'secondary' }\n    ];\n\n    if (this.currentConfig.granularControl) {\n      baseButtons.push({ type: 'reject', text: 'Reject All', style: 'secondary' });\n    }\n\n    if (this.currentConfig.gpcSupport) {\n      baseButtons.push({ type: 'doNotSell', text: 'Do Not Sell', style: 'link' });\n    }\n\n    return baseButtons;\n  }\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"This comprehensive approach ensures your cookie consent implementation complies with privacy laws across all major jurisdictions where you operate."}),"\n",(0,s.jsx)(n.h2,{id:"cookie-categories--classification",children:"Cookie Categories & Classification"}),"\n",(0,s.jsx)(n.h3,{id:"1-strictly-necessary-cookies",children:"1. Strictly Necessary Cookies"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose"}),": Essential for website functionality\n",(0,s.jsx)(n.strong,{children:"Consent Required"}),": No\n",(0,s.jsx)(n.strong,{children:"Examples"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Session management"}),"\n",(0,s.jsx)(n.li,{children:"Authentication tokens"}),"\n",(0,s.jsx)(n.li,{children:"Shopping cart persistence"}),"\n",(0,s.jsx)(n.li,{children:"Load balancing"}),"\n",(0,s.jsx)(n.li,{children:"Security features"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface StrictlyNecessaryCookies {\n  sessionId: string;\n  authToken: string;\n  cartItems: string;\n  csrfToken: string;\n  loadBalancer: string;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-performanceanalytics-cookies",children:"2. Performance/Analytics Cookies"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose"}),": Website performance analysis and optimization\n",(0,s.jsx)(n.strong,{children:"Consent Required"}),": Yes\n",(0,s.jsx)(n.strong,{children:"Examples"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Google Analytics"}),"\n",(0,s.jsx)(n.li,{children:"Page load time tracking"}),"\n",(0,s.jsx)(n.li,{children:"Error monitoring"}),"\n",(0,s.jsx)(n.li,{children:"A/B testing"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface AnalyticsCookies {\n  googleAnalytics: '_ga' | '_gid' | '_gat';\n  hotjar: '_hjSessionUser_*' | '_hjSession_*';\n  mixpanel: 'mp_*';\n  amplitude: 'amplitude_*';\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-functional-cookies",children:"3. Functional Cookies"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose"}),": Enhanced user experience and personalization\n",(0,s.jsx)(n.strong,{children:"Consent Required"}),": Yes (recommended)\n",(0,s.jsx)(n.strong,{children:"Examples"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Language preferences"}),"\n",(0,s.jsx)(n.li,{children:"Currency selection"}),"\n",(0,s.jsx)(n.li,{children:"Recently viewed products"}),"\n",(0,s.jsx)(n.li,{children:"Wishlist items"}),"\n",(0,s.jsx)(n.li,{children:"Chat widgets"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface FunctionalCookies {\n  language: string;\n  currency: string;\n  recentlyViewed: string;\n  wishlist: string;\n  chatPreferences: string;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"4-marketingadvertising-cookies",children:"4. Marketing/Advertising Cookies"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose"}),": Targeted advertising and marketing campaigns\n",(0,s.jsx)(n.strong,{children:"Consent Required"}),": Yes\n",(0,s.jsx)(n.strong,{children:"Examples"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Facebook Pixel"}),"\n",(0,s.jsx)(n.li,{children:"Google Ads"}),"\n",(0,s.jsx)(n.li,{children:"Retargeting pixels"}),"\n",(0,s.jsx)(n.li,{children:"Social media plugins"}),"\n",(0,s.jsx)(n.li,{children:"Email marketing tracking"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface MarketingCookies {\n  facebookPixel: '_fbp' | '_fbc';\n  googleAds: '_gcl_au' | '_gcl_aw';\n  linkedIn: 'li_*';\n  twitter: 'twtr_*';\n  pinterest: '_pin_*';\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"technical-implementation",children:"Technical Implementation"}),"\n",(0,s.jsx)(n.h3,{id:"cookie-consent-library-selection",children:"Cookie Consent Library Selection"}),"\n",(0,s.jsx)(n.h4,{id:"recommended-libraries",children:"Recommended Libraries:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CookieBot"})," (Enterprise solution)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OneTrust"})," (Enterprise solution)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Klaro"})," (Open source)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cookie Consent"})," (Custom implementation)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"nextjs-implementation-example",children:"Next.js Implementation Example"}),"\n",(0,s.jsx)(n.h4,{id:"1-cookie-consent-provider",children:"1. Cookie Consent Provider"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// lib/cookie-consent.tsx\n'use client';\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\n\nexport interface CookieConsent {\n  necessary: boolean;\n  analytics: boolean;\n  functional: boolean;\n  marketing: boolean;\n}\n\ninterface CookieConsentContextType {\n  consent: CookieConsent;\n  updateConsent: (newConsent: Partial<CookieConsent>) => void;\n  showBanner: boolean;\n  acceptAll: () => void;\n  rejectAll: () => void;\n  isLoaded: boolean;\n}\n\nconst CookieConsentContext = createContext<CookieConsentContextType | undefined>(undefined);\n\nconst CONSENT_COOKIE_NAME = 'cookie-consent';\nconst CONSENT_VERSION = '1.0';\n\nexport function CookieConsentProvider({ children }: { children: React.ReactNode }) {\n  const [consent, setConsent] = useState<CookieConsent>({\n    necessary: true, // Always true\n    analytics: false,\n    functional: false,\n    marketing: false,\n  });\n  const [showBanner, setShowBanner] = useState(false);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    // Load consent from localStorage or cookie\n    const savedConsent = loadConsentFromStorage();\n    if (savedConsent) {\n      setConsent(savedConsent);\n      setShowBanner(false);\n    } else {\n      setShowBanner(true);\n    }\n    setIsLoaded(true);\n  }, []);\n\n  const updateConsent = (newConsent: Partial<CookieConsent>) => {\n    const updatedConsent = { ...consent, ...newConsent, necessary: true };\n    setConsent(updatedConsent);\n    saveConsentToStorage(updatedConsent);\n    setShowBanner(false);\n    \n    // Trigger consent change event\n    window.dispatchEvent(new CustomEvent('cookieConsentChange', {\n      detail: updatedConsent\n    }));\n  };\n\n  const acceptAll = () => {\n    updateConsent({\n      analytics: true,\n      functional: true,\n      marketing: true,\n    });\n  };\n\n  const rejectAll = () => {\n    updateConsent({\n      analytics: false,\n      functional: false,\n      marketing: false,\n    });\n  };\n\n  return (\n    <CookieConsentContext.Provider \n      value={{ \n        consent, \n        updateConsent, \n        showBanner, \n        acceptAll, \n        rejectAll, \n        isLoaded \n      }}\n    >\n      {children}\n    </CookieConsentContext.Provider>\n  );\n}\n\nexport const useCookieConsent = () => {\n  const context = useContext(CookieConsentContext);\n  if (!context) {\n    throw new Error('useCookieConsent must be used within CookieConsentProvider');\n  }\n  return context;\n};\n\nfunction loadConsentFromStorage(): CookieConsent | null {\n  try {\n    const stored = localStorage.getItem(CONSENT_COOKIE_NAME);\n    if (stored) {\n      const parsed = JSON.parse(stored);\n      if (parsed.version === CONSENT_VERSION) {\n        return parsed.consent;\n      }\n    }\n  } catch (error) {\n    console.error('Error loading consent from storage:', error);\n  }\n  return null;\n}\n\nfunction saveConsentToStorage(consent: CookieConsent) {\n  try {\n    const toStore = {\n      consent,\n      version: CONSENT_VERSION,\n      timestamp: new Date().toISOString(),\n    };\n    localStorage.setItem(CONSENT_COOKIE_NAME, JSON.stringify(toStore));\n    \n    // Also set a cookie for server-side access\n    document.cookie = `${CONSENT_COOKIE_NAME}=${JSON.stringify(toStore)}; path=/; max-age=31536000; SameSite=Lax`;\n  } catch (error) {\n    console.error('Error saving consent to storage:', error);\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"2-cookie-banner-component",children:"2. Cookie Banner Component"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'// components/CookieBanner.tsx\n\'use client\';\n\nimport React, { useState } from \'react\';\nimport { useCookieConsent } from \'@/lib/cookie-consent\';\nimport { Button } from \'@/components/ui/button\';\nimport { Switch } from \'@/components/ui/switch\';\nimport { Sheet, SheetContent, SheetDescription, SheetHeader, SheetTitle } from \'@/components/ui/sheet\';\n\nexport function CookieBanner() {\n  const { consent, updateConsent, showBanner, acceptAll, rejectAll } = useCookieConsent();\n  const [showDetails, setShowDetails] = useState(false);\n  const [tempConsent, setTempConsent] = useState(consent);\n\n  if (!showBanner) return null;\n\n  const handleSavePreferences = () => {\n    updateConsent(tempConsent);\n    setShowDetails(false);\n  };\n\n  return (\n    <>\n      {/* Cookie Banner */}\n      <div className="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50 p-4">\n        <div className="max-w-7xl mx-auto flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">\n          <div className="flex-1">\n            <h3 className="text-lg font-semibold mb-2">We use cookies</h3>\n            <p className="text-sm text-gray-600">\n              We use cookies to enhance your browsing experience, serve personalized content, \n              and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.\n            </p>\n          </div>\n          <div className="flex flex-col sm:flex-row gap-2 w-full sm:w-auto">\n            <Button variant="outline" onClick={rejectAll}>\n              Reject All\n            </Button>\n            <Button variant="outline" onClick={() => setShowDetails(true)}>\n              Customize\n            </Button>\n            <Button onClick={acceptAll}>\n              Accept All\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Cookie Preferences Modal */}\n      <Sheet open={showDetails} onOpenChange={setShowDetails}>\n        <SheetContent className="w-full sm:max-w-md overflow-y-auto">\n          <SheetHeader>\n            <SheetTitle>Cookie Preferences</SheetTitle>\n            <SheetDescription>\n              Manage your cookie preferences. You can enable or disable different types of cookies below.\n            </SheetDescription>\n          </SheetHeader>\n          \n          <div className="space-y-6 mt-6">\n            {/* Strictly Necessary */}\n            <div className="space-y-2">\n              <div className="flex items-center justify-between">\n                <div>\n                  <h4 className="font-medium">Strictly Necessary</h4>\n                  <p className="text-sm text-gray-600">\n                    Essential for the website to function properly\n                  </p>\n                </div>\n                <Switch checked={true} disabled />\n              </div>\n            </div>\n\n            {/* Analytics */}\n            <div className="space-y-2">\n              <div className="flex items-center justify-between">\n                <div>\n                  <h4 className="font-medium">Analytics</h4>\n                  <p className="text-sm text-gray-600">\n                    Help us understand how visitors interact with our website\n                  </p>\n                </div>\n                <Switch \n                  checked={tempConsent.analytics} \n                  onCheckedChange={(checked) => \n                    setTempConsent(prev => ({ ...prev, analytics: checked }))\n                  }\n                />\n              </div>\n            </div>\n\n            {/* Functional */}\n            <div className="space-y-2">\n              <div className="flex items-center justify-between">\n                <div>\n                  <h4 className="font-medium">Functional</h4>\n                  <p className="text-sm text-gray-600">\n                    Enable enhanced functionality and personalization\n                  </p>\n                </div>\n                <Switch \n                  checked={tempConsent.functional} \n                  onCheckedChange={(checked) => \n                    setTempConsent(prev => ({ ...prev, functional: checked }))\n                  }\n                />\n              </div>\n            </div>\n\n            {/* Marketing */}\n            <div className="space-y-2">\n              <div className="flex items-center justify-between">\n                <div>\n                  <h4 className="font-medium">Marketing</h4>\n                  <p className="text-sm text-gray-600">\n                    Used to track visitors across websites for advertising purposes\n                  </p>\n                </div>\n                <Switch \n                  checked={tempConsent.marketing} \n                  onCheckedChange={(checked) => \n                    setTempConsent(prev => ({ ...prev, marketing: checked }))\n                  }\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className="flex flex-col gap-2 mt-6">\n            <Button onClick={handleSavePreferences}>\n              Save Preferences\n            </Button>\n            <Button variant="outline" onClick={() => setShowDetails(false)}>\n              Cancel\n            </Button>\n          </div>\n        </SheetContent>\n      </Sheet>\n    </>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.h4,{id:"3-cookie-management-hook",children:"3. Cookie Management Hook"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// hooks/useCookieManager.ts\nimport { useEffect } from 'react';\nimport { useCookieConsent } from '@/lib/cookie-consent';\n\nexport function useCookieManager() {\n  const { consent, isLoaded } = useCookieConsent();\n\n  useEffect(() => {\n    if (!isLoaded) return;\n\n    // Google Analytics\n    if (consent.analytics) {\n      loadGoogleAnalytics();\n    } else {\n      removeGoogleAnalytics();\n    }\n\n    // Facebook Pixel\n    if (consent.marketing) {\n      loadFacebookPixel();\n    } else {\n      removeFacebookPixel();\n    }\n\n    // Hotjar\n    if (consent.analytics) {\n      loadHotjar();\n    } else {\n      removeHotjar();\n    }\n\n  }, [consent, isLoaded]);\n\n  return { consent, isLoaded };\n}\n\nfunction loadGoogleAnalytics() {\n  if (typeof window === 'undefined') return;\n  \n  // Load Google Analytics script\n  const script = document.createElement('script');\n  script.src = `https://www.googletagmanager.com/gtag/js?id=${process.env.NEXT_PUBLIC_GA_ID}`;\n  script.async = true;\n  document.head.appendChild(script);\n\n  // Initialize gtag\n  window.dataLayer = window.dataLayer || [];\n  function gtag(...args: any[]) {\n    window.dataLayer.push(arguments);\n  }\n  window.gtag = gtag;\n  \n  gtag('js', new Date());\n  gtag('config', process.env.NEXT_PUBLIC_GA_ID, {\n    anonymize_ip: true,\n    cookie_flags: 'SameSite=Lax;Secure'\n  });\n}\n\nfunction removeGoogleAnalytics() {\n  // Remove GA cookies\n  const gaCookies = ['_ga', '_gid', '_gat_gtag_' + process.env.NEXT_PUBLIC_GA_ID];\n  gaCookies.forEach(cookie => {\n    document.cookie = `${cookie}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\n  });\n}\n\nfunction loadFacebookPixel() {\n  if (typeof window === 'undefined') return;\n  \n  // Facebook Pixel code\n  window.fbq = window.fbq || function() {\n    window.fbq.callMethod ? window.fbq.callMethod.apply(window.fbq, arguments) : \n    window.fbq.queue.push(arguments);\n  };\n  \n  if (!window._fbq) window._fbq = window.fbq;\n  window.fbq.push = window.fbq;\n  window.fbq.loaded = true;\n  window.fbq.version = '2.0';\n  window.fbq.queue = [];\n  \n  const script = document.createElement('script');\n  script.src = 'https://connect.facebook.net/en_US/fbevents.js';\n  script.async = true;\n  document.head.appendChild(script);\n  \n  window.fbq('init', process.env.NEXT_PUBLIC_FACEBOOK_PIXEL_ID);\n  window.fbq('track', 'PageView');\n}\n\nfunction removeFacebookPixel() {\n  // Remove Facebook Pixel cookies\n  const fbCookies = ['_fbp', '_fbc'];\n  fbCookies.forEach(cookie => {\n    document.cookie = `${cookie}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\n  });\n}\n\nfunction loadHotjar() {\n  if (typeof window === 'undefined') return;\n  \n  window.hj = window.hj || function() {\n    (window.hj.q = window.hj.q || []).push(arguments);\n  };\n  window._hjSettings = { hjid: process.env.NEXT_PUBLIC_HOTJAR_ID, hjsv: 6 };\n  \n  const script = document.createElement('script');\n  script.src = `https://static.hotjar.com/c/hotjar-${process.env.NEXT_PUBLIC_HOTJAR_ID}.js?sv=6`;\n  script.async = true;\n  document.head.appendChild(script);\n}\n\nfunction removeHotjar() {\n  // Remove Hotjar cookies\n  const hjCookies = Object.keys(document.cookie).filter(key => key.startsWith('_hj'));\n  hjCookies.forEach(cookie => {\n    document.cookie = `${cookie}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\n  });\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"4-server-side-cookie-handling-nestjs",children:"4. Server-Side Cookie Handling (NestJS)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/middleware/cookie-consent.middleware.ts\nimport { Injectable, NestMiddleware } from '@nestjs/common';\nimport { Request, Response, NextFunction } from 'express';\n\n@Injectable()\nexport class CookieConsentMiddleware implements NestMiddleware {\n  use(req: Request, res: Response, next: NextFunction) {\n    const consentCookie = req.cookies['cookie-consent'];\n    \n    if (consentCookie) {\n      try {\n        const consent = JSON.parse(consentCookie);\n        req.cookieConsent = consent;\n      } catch (error) {\n        console.error('Error parsing cookie consent:', error);\n      }\n    }\n    \n    next();\n  }\n}\n\n// src/types/express.d.ts\ndeclare global {\n  namespace Express {\n    interface Request {\n      cookieConsent?: {\n        consent: {\n          necessary: boolean;\n          analytics: boolean;\n          functional: boolean;\n          marketing: boolean;\n        };\n        version: string;\n        timestamp: string;\n      };\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"5-cookie-policy-page",children:"5. Cookie Policy Page"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'// app/cookie-policy/page.tsx\nexport default function CookiePolicyPage() {\n  return (\n    <div className="max-w-4xl mx-auto py-8 px-4">\n      <h1 className="text-3xl font-bold mb-6">Cookie Policy</h1>\n      \n      <div className="prose max-w-none">\n        <h2>What are cookies?</h2>\n        <p>\n          Cookies are small text files that are placed on your computer or mobile device \n          when you visit a website. They are widely used to make websites work more \n          efficiently and provide information to website owners.\n        </p>\n\n        <h2>How we use cookies</h2>\n        <p>\n          We use cookies for several reasons. Some cookies are required for technical \n          reasons in order for our website to operate, and we refer to these as \n          "essential" or "strictly necessary" cookies.\n        </p>\n\n        <h2>Types of cookies we use</h2>\n        \n        <h3>1. Strictly Necessary Cookies</h3>\n        <p>\n          These cookies are essential for you to browse the website and use its features.\n        </p>\n        <table className="min-w-full border border-gray-300">\n          <thead>\n            <tr>\n              <th className="border border-gray-300 px-4 py-2">Cookie Name</th>\n              <th className="border border-gray-300 px-4 py-2">Purpose</th>\n              <th className="border border-gray-300 px-4 py-2">Duration</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td className="border border-gray-300 px-4 py-2">sessionId</td>\n              <td className="border border-gray-300 px-4 py-2">Maintains user session</td>\n              <td className="border border-gray-300 px-4 py-2">Session</td>\n            </tr>\n            <tr>\n              <td className="border border-gray-300 px-4 py-2">cart_token</td>\n              <td className="border border-gray-300 px-4 py-2">Stores shopping cart items</td>\n              <td className="border border-gray-300 px-4 py-2">30 days</td>\n            </tr>\n          </tbody>\n        </table>\n\n        <h3>2. Performance/Analytics Cookies</h3>\n        <p>\n          These cookies help us understand how visitors interact with our website.\n        </p>\n        <table className="min-w-full border border-gray-300">\n          <thead>\n            <tr>\n              <th className="border border-gray-300 px-4 py-2">Cookie Name</th>\n              <th className="border border-gray-300 px-4 py-2">Purpose</th>\n              <th className="border border-gray-300 px-4 py-2">Duration</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td className="border border-gray-300 px-4 py-2">_ga</td>\n              <td className="border border-gray-300 px-4 py-2">Google Analytics - distinguishes users</td>\n              <td className="border border-gray-300 px-4 py-2">2 years</td>\n            </tr>\n            <tr>\n              <td className="border border-gray-300 px-4 py-2">_gid</td>\n              <td className="border border-gray-300 px-4 py-2">Google Analytics - distinguishes users</td>\n              <td className="border border-gray-300 px-4 py-2">24 hours</td>\n            </tr>\n          </tbody>\n        </table>\n\n        <h2>Managing your cookies</h2>\n        <p>\n          You can manage your cookie preferences at any time by clicking the "Cookie Settings" \n          link in our website footer or by using your browser settings.\n        </p>\n\n        <h2>Contact us</h2>\n        <p>\n          If you have any questions about our use of cookies, please contact us at \n          privacy@yourwebsite.com\n        </p>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"uiux-design-guidelines",children:"UI/UX Design Guidelines"}),"\n",(0,s.jsx)(n.h3,{id:"design-principles",children:"Design Principles"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Transparency"}),": Clear and honest communication about cookie usage"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"User Control"}),": Easy-to-use granular controls"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Accessibility"}),": WCAG 2.1 AA compliant"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Performance"}),": Minimal impact on page load time"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Mobile-First"}),": Responsive design for all devices"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"banner-placement-options",children:"Banner Placement Options"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Bottom of screen"}),": Most common, less intrusive"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Top of screen"}),": More prominent, harder to ignore"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Modal overlay"}),": Maximum attention, can be disruptive"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Slide-in from corner"}),": Balanced approach"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"color-scheme",children:"Color Scheme"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",children:":root {\n  --cookie-banner-bg: #ffffff;\n  --cookie-banner-border: #e5e7eb;\n  --cookie-banner-text: #374151;\n  --cookie-banner-primary: #3b82f6;\n  --cookie-banner-secondary: #6b7280;\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"integration-with-analytics--marketing-tools",children:"Integration with Analytics & Marketing Tools"}),"\n",(0,s.jsx)(n.h3,{id:"google-analytics-4-integration",children:"Google Analytics 4 Integration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// utils/analytics.ts\nimport { useCookieConsent } from '@/lib/cookie-consent';\n\nexport function trackEvent(eventName: string, parameters?: any) {\n  const { consent } = useCookieConsent();\n  \n  if (consent.analytics && typeof window !== 'undefined' && window.gtag) {\n    window.gtag('event', eventName, {\n      ...parameters,\n      cookie_flags: 'SameSite=Lax;Secure'\n    });\n  }\n}\n\nexport function trackPurchase(transactionId: string, value: number, currency: string, items: any[]) {\n  const { consent } = useCookieConsent();\n  \n  if (consent.analytics && typeof window !== 'undefined' && window.gtag) {\n    window.gtag('event', 'purchase', {\n      transaction_id: transactionId,\n      value: value,\n      currency: currency,\n      items: items\n    });\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"facebook-pixel-integration",children:"Facebook Pixel Integration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// utils/facebook-pixel.ts\nimport { useCookieConsent } from '@/lib/cookie-consent';\n\nexport function trackFacebookEvent(eventName: string, parameters?: any) {\n  const { consent } = useCookieConsent();\n  \n  if (consent.marketing && typeof window !== 'undefined' && window.fbq) {\n    window.fbq('track', eventName, parameters);\n  }\n}\n\nexport function trackFacebookPurchase(value: number, currency: string) {\n  trackFacebookEvent('Purchase', {\n    value: value,\n    currency: currency\n  });\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"testing--validation",children:"Testing & Validation"}),"\n",(0,s.jsx)(n.h3,{id:"automated-testing",children:"Automated Testing"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// __tests__/cookie-consent.test.tsx\nimport { render, screen, fireEvent } from '@testing-library/react';\nimport { CookieConsentProvider, useCookieConsent } from '@/lib/cookie-consent';\n\nfunction TestComponent() {\n  const { consent, acceptAll, rejectAll } = useCookieConsent();\n  return (\n    <div>\n      <div data-testid=\"analytics-consent\">{consent.analytics.toString()}</div>\n      <button onClick={acceptAll}>Accept All</button>\n      <button onClick={rejectAll}>Reject All</button>\n    </div>\n  );\n}\n\ndescribe('Cookie Consent', () => {\n  test('should accept all cookies', () => {\n    render(\n      <CookieConsentProvider>\n        <TestComponent />\n      </CookieConsentProvider>\n    );\n\n    fireEvent.click(screen.getByText('Accept All'));\n    expect(screen.getByTestId('analytics-consent')).toHaveTextContent('true');\n  });\n\n  test('should reject all cookies', () => {\n    render(\n      <CookieConsentProvider>\n        <TestComponent />\n      </CookieConsentProvider>\n    );\n\n    fireEvent.click(screen.getByText('Reject All'));\n    expect(screen.getByTestId('analytics-consent')).toHaveTextContent('false');\n  });\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"manual-testing-checklist",children:"Manual Testing Checklist"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Cookie banner appears on first visit"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Cookie banner doesn't appear after consent is given"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ",'"Accept All" button works correctly']}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ",'"Reject All" button works correctly']}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Granular cookie settings work"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Cookie preferences are persisted"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Analytics scripts load only with consent"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Marketing scripts load only with consent"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Cookie banner is accessible via keyboard"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Cookie banner works on mobile devices"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Cookie policy page is accessible"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Cookie settings can be changed later"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"gdpr-compliance-testing",children:"GDPR Compliance Testing"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Consent Granularity"}),": Verify users can choose specific cookie categories"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Withdrawal"}),": Test that users can withdraw consent easily"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Clear Information"}),": Ensure cookie purposes are clearly explained"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"No Pre-ticked Boxes"}),": Verify non-essential cookies aren't pre-selected"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Legitimate Interest"}),": Test opt-out mechanisms for legitimate interest"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"deployment-strategy",children:"Deployment Strategy"}),"\n",(0,s.jsx)(n.h3,{id:"environment-configuration",children:"Environment Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# .env.local\nNEXT_PUBLIC_GA_ID=GA_MEASUREMENT_ID\nNEXT_PUBLIC_FACEBOOK_PIXEL_ID=FB_PIXEL_ID\nNEXT_PUBLIC_HOTJAR_ID=HOTJAR_SITE_ID\nNEXT_PUBLIC_ENVIRONMENT=production\n"})}),"\n",(0,s.jsx)(n.h3,{id:"deployment-checklist",children:"Deployment Checklist"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Environment variables configured"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Cookie policy page deployed"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Analytics integration tested"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Marketing pixels tested"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","GDPR compliance verified"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Performance impact measured"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Mobile responsiveness tested"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Accessibility testing completed"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Legal review completed"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Privacy policy updated"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"rollout-strategy",children:"Rollout Strategy"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Staging Environment"}),": Full testing with production-like data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Canary Release"}),": Deploy to 5% of users initially"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Gradual Rollout"}),": Increase to 25%, 50%, 100% over time"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Monitoring"}),": Track consent rates and user behavior"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rollback Plan"}),": Quick revert if issues arise"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"monitoring--maintenance",children:"Monitoring & Maintenance"}),"\n",(0,s.jsx)(n.h3,{id:"key-metrics-to-track",children:"Key Metrics to Track"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// utils/consent-analytics.ts\nexport function trackConsentMetrics() {\n  const { consent } = useCookieConsent();\n  \n  // Track consent rates\n  trackEvent('cookie_consent_given', {\n    analytics_consent: consent.analytics,\n    functional_consent: consent.functional,\n    marketing_consent: consent.marketing\n  });\n}\n\nexport function trackConsentChanges(oldConsent: any, newConsent: any) {\n  trackEvent('cookie_consent_changed', {\n    analytics_changed: oldConsent.analytics !== newConsent.analytics,\n    functional_changed: oldConsent.functional !== newConsent.functional,\n    marketing_changed: oldConsent.marketing !== newConsent.marketing\n  });\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"monitoring-dashboard",children:"Monitoring Dashboard"}),"\n",(0,s.jsx)(n.p,{children:"Track these KPIs:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Consent Rate"}),": Percentage of users who accept cookies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Category Acceptance"}),": Breakdown by cookie category"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Banner Interaction"}),": Click-through rates on different buttons"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Performance Impact"}),": Page load time impact"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Compliance Issues"}),": Failed consent recordings"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"maintenance-tasks",children:"Maintenance Tasks"}),"\n",(0,s.jsx)(n.h4,{id:"weekly",children:"Weekly"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Review consent rates and trends"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Check for new cookie additions"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Monitor performance metrics"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Review user feedback"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"monthly",children:"Monthly"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Update cookie inventory"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Review legal compliance"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Analyze consent patterns"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Update cookie policy if needed"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"quarterly",children:"Quarterly"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Legal compliance audit"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Performance optimization review"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","User experience testing"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Privacy impact assessment"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting-common-issues",children:"Troubleshooting Common Issues"}),"\n",(0,s.jsx)(n.h3,{id:"issue-cookies-not-being-removed-after-consent-withdrawal",children:"Issue: Cookies not being removed after consent withdrawal"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),": Implement proper cookie cleanup functions"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"function cleanupCookies(domain: string, cookieNames: string[]) {\n  cookieNames.forEach(name => {\n    // Remove from current domain\n    document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\n    // Remove from domain with dot prefix\n    document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=${domain};`;\n    document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.${domain};`;\n  });\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"issue-scripts-loading-before-consent",children:"Issue: Scripts loading before consent"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),": Use dynamic script loading based on consent"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"function loadScriptWithConsent(src: string, consentType: keyof CookieConsent) {\n  const { consent } = useCookieConsent();\n  \n  if (consent[consentType]) {\n    const script = document.createElement('script');\n    script.src = src;\n    script.async = true;\n    document.head.appendChild(script);\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"issue-banner-not-showing-on-safari",children:"Issue: Banner not showing on Safari"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution"}),": Check for localStorage availability and fallback to cookies"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"function isLocalStorageAvailable(): boolean {\n  try {\n    const testKey = '__localStorage_test__';\n    localStorage.setItem(testKey, 'test');\n    localStorage.removeItem(testKey);\n    return true;\n  } catch {\n    return false;\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"legal-considerations",children:"Legal Considerations"}),"\n",(0,s.jsx)(n.h3,{id:"documentation-requirements",children:"Documentation Requirements"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Cookie inventory with purposes and durations"}),"\n",(0,s.jsx)(n.li,{children:"Legitimate interest assessments"}),"\n",(0,s.jsx)(n.li,{children:"Consent records with timestamps"}),"\n",(0,s.jsx)(n.li,{children:"Data processing agreements with third parties"}),"\n",(0,s.jsx)(n.li,{children:"Privacy impact assessments"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"regular-reviews",children:"Regular Reviews"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Update cookie inventory quarterly"}),"\n",(0,s.jsx)(n.li,{children:"Review consent rates and user feedback"}),"\n",(0,s.jsx)(n.li,{children:"Monitor regulatory changes"}),"\n",(0,s.jsx)(n.li,{children:"Conduct annual privacy audits"}),"\n",(0,s.jsx)(n.li,{children:"Update privacy policies as needed"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"cookie-consent-compliance-verification-by-country",children:"Cookie Consent Compliance Verification by Country"}),"\n",(0,s.jsx)(n.p,{children:"Ensuring your website complies with cookie consent regulations across different countries requires systematic verification and testing. This section provides comprehensive guidance on how to verify compliance for major jurisdictions."}),"\n",(0,s.jsx)(n.h3,{id:"1-european-union-gdpr--eprivacy-directive",children:"1. European Union (GDPR & ePrivacy Directive)"}),"\n",(0,s.jsx)(n.h4,{id:"verification-checklist",children:"Verification Checklist"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Consent Banner Requirements"}),":"]}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Banner appears before any non-essential cookies are set"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Clear, plain language explanation of cookie purposes"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Granular consent options for different cookie categories"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ",'"Accept All" and "Reject All" buttons equally prominent']}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Link to detailed cookie policy easily accessible"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Consent can be withdrawn at any time"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Technical Verification"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Test script to verify GDPR compliance\nfunction verifyGDPRCompliance() {\n  const tests = {\n    noCookiesBeforeConsent: checkNoCookiesSetBeforeConsent(),\n    consentBannerPresent: checkConsentBannerExists(),\n    granularOptions: checkGranularConsentOptions(),\n    withdrawalMechanism: checkConsentWithdrawal(),\n    cookiePolicy: checkCookiePolicyAccessible(),\n    consentRecording: checkConsentRecording()\n  };\n  \n  console.log('GDPR Compliance Test Results:', tests);\n  return Object.values(tests).every(test => test === true);\n}\n\nfunction checkNoCookiesSetBeforeConsent() {\n  // Check that no non-essential cookies are set before consent\n  const cookies = document.cookie.split(';');\n  const nonEssentialCookies = cookies.filter(cookie => {\n    const name = cookie.split('=')[0].trim();\n    return !['session_id', 'csrf_token', 'load_balancer'].includes(name);\n  });\n  return nonEssentialCookies.length === 0;\n}\n\nfunction checkConsentBannerExists() {\n  return document.querySelector('[data-testid=\"cookie-banner\"]') !== null;\n}\n\nfunction checkGranularConsentOptions() {\n  const categories = ['analytics', 'marketing', 'functional'];\n  return categories.every(category => \n    document.querySelector(`[data-consent-category=\"${category}\"]`) !== null\n  );\n}\n\nfunction checkConsentWithdrawal() {\n  return document.querySelector('[data-testid=\"cookie-settings\"]') !== null;\n}\n\nfunction checkCookiePolicyAccessible() {\n  const policyLink = document.querySelector('a[href*=\"cookie-policy\"]');\n  return policyLink !== null && policyLink.href.length > 0;\n}\n\nfunction checkConsentRecording() {\n  // Verify consent is recorded with timestamp and version\n  const consent = localStorage.getItem('cookie_consent');\n  if (!consent) return false;\n  \n  try {\n    const consentData = JSON.parse(consent);\n    return consentData.timestamp && consentData.version && consentData.choices;\n  } catch {\n    return false;\n  }\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Automated Testing with Playwright"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// tests/gdpr-compliance.spec.ts\nimport { test, expect } from '@playwright/test';\n\ntest.describe('GDPR Compliance', () => {\n  test('should show consent banner before setting cookies', async ({ page, context }) => {\n    // Clear all cookies first\n    await context.clearCookies();\n    \n    await page.goto('/');\n    \n    // Check consent banner appears\n    await expect(page.locator('[data-testid=\"cookie-banner\"]')).toBeVisible();\n    \n    // Check no non-essential cookies are set\n    const cookies = await context.cookies();\n    const nonEssentialCookies = cookies.filter(cookie => \n      !['session_id', 'csrf_token', 'load_balancer'].includes(cookie.name)\n    );\n    expect(nonEssentialCookies).toHaveLength(0);\n  });\n\n  test('should provide granular consent options', async ({ page }) => {\n    await page.goto('/');\n    \n    // Click customize cookies\n    await page.click('[data-testid=\"customize-cookies\"]');\n    \n    // Check all categories are present\n    await expect(page.locator('[data-consent-category=\"analytics\"]')).toBeVisible();\n    await expect(page.locator('[data-consent-category=\"marketing\"]')).toBeVisible();\n    await expect(page.locator('[data-consent-category=\"functional\"]')).toBeVisible();\n    \n    // Each category should have its own toggle\n    const toggles = page.locator('input[type=\"checkbox\"][data-consent-category]');\n    expect(await toggles.count()).toBeGreaterThanOrEqual(3);\n  });\n\n  test('should allow consent withdrawal', async ({ page }) => {\n    await page.goto('/');\n    \n    // Accept all cookies first\n    await page.click('[data-testid=\"accept-all-cookies\"]');\n    \n    // Should be able to access cookie settings\n    await page.click('[data-testid=\"cookie-settings\"]');\n    \n    // Should be able to reject all\n    await page.click('[data-testid=\"reject-all-cookies\"]');\n    \n    // Verify consent was updated\n    const consent = await page.evaluate(() => \n      JSON.parse(localStorage.getItem('cookie_consent') || '{}')\n    );\n    expect(consent.analytics).toBe(false);\n    expect(consent.marketing).toBe(false);\n  });\n});\n"})}),"\n",(0,s.jsx)(n.h4,{id:"manual-verification-steps",children:"Manual Verification Steps"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Load Website Without Cookies"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Clear all cookies and local storage"}),"\n",(0,s.jsx)(n.li,{children:"Load website and check no non-essential cookies are set"}),"\n",(0,s.jsx)(n.li,{children:"Verify consent banner appears immediately"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Test Consent Flow"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'Click "Customize" to see granular options'}),"\n",(0,s.jsx)(n.li,{children:"Verify each category has clear description"}),"\n",(0,s.jsx)(n.li,{children:"Test partial consent (accept some, reject others)"}),"\n",(0,s.jsx)(n.li,{children:"Verify only consented cookies are set"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Verify Withdrawal"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Find cookie settings (usually in footer or privacy menu)"}),"\n",(0,s.jsx)(n.li,{children:"Change consent preferences"}),"\n",(0,s.jsx)(n.li,{children:"Verify unwanted cookies are removed"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Check Documentation"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Cookie policy lists all cookies with purposes and durations"}),"\n",(0,s.jsx)(n.li,{children:"Privacy policy explains data processing clearly"}),"\n",(0,s.jsx)(n.li,{children:"Legal basis for processing is documented"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-united-states-ccpa--state-laws",children:"2. United States (CCPA & State Laws)"}),"\n",(0,s.jsx)(n.h4,{id:"california-ccpacpra-verification",children:"California (CCPA/CPRA) Verification"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Requirements"}),":"]}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ",'"Do Not Sell My Personal Information" link visible']}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Global Privacy Control (GPC) support"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Right to know what data is collected"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Right to delete personal information"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Opt-out of sale/sharing of personal information"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Technical Verification"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// CCPA Compliance Verification\nfunction verifyCCPACompliance() {\n  const tests = {\n    doNotSellLink: checkDoNotSellLink(),\n    gpcSupport: checkGPCSupport(),\n    optOutMechanism: checkOptOutMechanism(),\n    privacyRights: checkPrivacyRights(),\n    dataInventory: checkDataInventory()\n  };\n  \n  console.log('CCPA Compliance Test Results:', tests);\n  return Object.values(tests).every(test => test === true);\n}\n\nfunction checkDoNotSellLink() {\n  const doNotSellLink = document.querySelector('a[href*=\"do-not-sell\"]') ||\n                       document.querySelector('a:contains(\"Do Not Sell\")');\n  return doNotSellLink !== null;\n}\n\nfunction checkGPCSupport() {\n  // Check if site respects Global Privacy Control\n  return navigator.globalPrivacyControl === undefined || \n         localStorage.getItem('gpc_respected') === 'true';\n}\n\nfunction checkOptOutMechanism() {\n  // Verify there's a clear opt-out mechanism\n  const optOutButton = document.querySelector('[data-testid=\"opt-out-sale\"]') ||\n                      document.querySelector('button:contains(\"Opt Out\")');\n  return optOutButton !== null;\n}\n\nfunction checkPrivacyRights() {\n  // Check privacy rights page exists and is accessible\n  const privacyRightsLink = document.querySelector('a[href*=\"privacy-rights\"]') ||\n                           document.querySelector('a[href*=\"consumer-rights\"]');\n  return privacyRightsLink !== null;\n}\n\nfunction checkDataInventory() {\n  // Check if privacy policy includes data inventory\n  return fetch('/privacy-policy')\n    .then(response => response.text())\n    .then(text => text.includes('categories of personal information'))\n    .catch(() => false);\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Automated Testing"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// tests/ccpa-compliance.spec.ts\ntest.describe('CCPA Compliance', () => {\n  test('should have \"Do Not Sell\" link visible', async ({ page }) => {\n    await page.goto('/');\n    \n    // Check for \"Do Not Sell\" link (case variations)\n    const doNotSellLink = page.locator('a').filter({ \n      hasText: /do not sell|don't sell/i \n    });\n    await expect(doNotSellLink).toBeVisible();\n    \n    // Link should be accessible (not hidden or tiny)\n    const boundingBox = await doNotSellLink.boundingBox();\n    expect(boundingBox?.width).toBeGreaterThan(50);\n    expect(boundingBox?.height).toBeGreaterThan(10);\n  });\n\n  test('should respect Global Privacy Control', async ({ page, context }) => {\n    // Set GPC header\n    await context.setExtraHTTPHeaders({\n      'Sec-GPC': '1'\n    });\n    \n    await page.goto('/');\n    \n    // Check if site automatically opts out when GPC is set\n    const optOutStatus = await page.evaluate(() => \n      localStorage.getItem('data_sale_opt_out')\n    );\n    expect(optOutStatus).toBe('true');\n  });\n\n  test('should provide clear opt-out mechanism', async ({ page }) => {\n    await page.goto('/privacy-rights');\n    \n    // Should have clear opt-out form or process\n    const optOutForm = page.locator('form[data-testid=\"opt-out-form\"]');\n    await expect(optOutForm).toBeVisible();\n    \n    // Form should have required fields\n    await expect(page.locator('input[name=\"email\"]')).toBeVisible();\n    await expect(page.locator('button[type=\"submit\"]')).toBeVisible();\n  });\n});\n"})}),"\n",(0,s.jsx)(n.h4,{id:"other-us-states",children:"Other US States"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Virginia (VCDPA)"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"function verifyVCDPACompliance() {\n  return {\n    rightToAccess: checkDataAccessRight(),\n    rightToCorrect: checkDataCorrectionRight(),\n    rightToDelete: checkDataDeletionRight(),\n    rightToPortability: checkDataPortabilityRight(),\n    rightToOptOut: checkProcessingOptOut()\n  };\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Colorado (CPA)"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"function verifyCPACompliance() {\n  return {\n    rightToAccess: checkDataAccessRight(),\n    rightToCorrect: checkDataCorrectionRight(), \n    rightToDelete: checkDataDeletionRight(),\n    rightToPortability: checkDataPortabilityRight(),\n    rightToOptOut: checkTargetedAdvertisingOptOut()\n  };\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-united-kingdom-uk-gdpr--pecr",children:"3. United Kingdom (UK GDPR & PECR)"}),"\n",(0,s.jsx)(n.p,{children:"Similar to EU GDPR but with some differences:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"function verifyUKGDPRCompliance() {\n  const tests = {\n    ...verifyGDPRCompliance(), // Same base requirements\n    ukSpecificRequirements: checkUKSpecificRequirements(),\n    pecrCompliance: checkPECRCompliance()\n  };\n  \n  return tests;\n}\n\nfunction checkUKSpecificRequirements() {\n  // UK-specific requirements (currently similar to EU GDPR)\n  return checkICOGuidanceCompliance();\n}\n\nfunction checkPECRCompliance() {\n  // Privacy and Electronic Communications Regulations\n  return {\n    emailMarketing: checkEmailMarketingConsent(),\n    directMarketing: checkDirectMarketingOptOut(),\n    cookieConsent: checkCookieConsentPECR()\n  };\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"4-canada-pipeda",children:"4. Canada (PIPEDA)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"function verifyPIPEDACompliance() {\n  return {\n    meaningfulConsent: checkMeaningfulConsent(),\n    dataMinimization: checkDataMinimization(),\n    transparentPractices: checkTransparentPractices(),\n    accessRights: checkAccessRights(),\n    breachNotification: checkBreachNotificationProcess()\n  };\n}\n\nfunction checkMeaningfulConsent() {\n  // PIPEDA requires \"meaningful consent\"\n  const consentForm = document.querySelector('[data-testid=\"consent-form\"]');\n  if (!consentForm) return false;\n  \n  // Check for clear, understandable language\n  const consentText = consentForm.textContent || '';\n  return !consentText.includes('legal jargon') && \n         consentText.length > 100 && // Sufficient detail\n         consentText.includes('purpose');\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"5-brazil-lgpd",children:"5. Brazil (LGPD)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"function verifyLGPDCompliance() {\n  return {\n    legalBasisTransparency: checkLegalBasisDisclosure(),\n    dataSubjectRights: checkDataSubjectRights(),\n    dataMinimization: checkDataMinimizationPrinciple(),\n    consentManagement: checkConsentManagement(),\n    dpoContact: checkDPOContactInfo()\n  };\n}\n\nfunction checkLegalBasisDisclosure() {\n  // LGPD requires clear disclosure of legal basis for processing\n  return fetch('/privacy-policy')\n    .then(response => response.text())\n    .then(text => text.includes('base legal') || text.includes('legal basis'))\n    .catch(() => false);\n}\n\nfunction checkDataSubjectRights() {\n  // Check for LGPD data subject rights\n  const rights = [\n    'access', 'correction', 'deletion', 'portability', \n    'anonymization', 'opposition'\n  ];\n  \n  return fetch('/privacy-rights')\n    .then(response => response.text())\n    .then(text => \n      rights.every(right => \n        text.toLowerCase().includes(right.toLowerCase())\n      )\n    )\n    .catch(() => false);\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"6-australia-privacy-act",children:"6. Australia (Privacy Act)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"function verifyAustralianPrivacyCompliance() {\n  return {\n    transparentPractices: checkTransparentPractices(),\n    consentRequirements: checkAustralianConsent(),\n    dataBreachScheme: checkDataBreachCompliance(),\n    overseas Transfer: checkOverseasTransferNotices()\n  };\n}\n\nfunction checkAustralianConsent() {\n  // Australian Privacy Principles require clear consent\n  const privacyPolicy = document.querySelector('a[href*=\"privacy\"]');\n  if (!privacyPolicy) return false;\n  \n  return fetch(privacyPolicy.href)\n    .then(response => response.text())\n    .then(text => \n      text.includes('Australian Privacy Principles') ||\n      text.includes('Privacy Act 1988')\n    )\n    .catch(() => false);\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"7-comprehensive-multi-jurisdiction-testing",children:"7. Comprehensive Multi-Jurisdiction Testing"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Automated Compliance Testing Suite"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// tests/multi-jurisdiction-compliance.spec.ts\nimport { test, expect } from '@playwright/test';\n\nconst jurisdictions = [\n  {\n    name: 'EU',\n    geoIP: '192.168.1.100', // Mock EU IP\n    requirements: ['gdpr', 'eprivacy']\n  },\n  {\n    name: 'California',\n    geoIP: '192.168.1.101', // Mock California IP\n    requirements: ['ccpa']\n  },\n  {\n    name: 'UK',\n    geoIP: '192.168.1.102', // Mock UK IP\n    requirements: ['uk-gdpr', 'pecr']\n  }\n];\n\njurisdictions.forEach(jurisdiction => {\n  test.describe(`${jurisdiction.name} Compliance`, () => {\n    test.beforeEach(async ({ page, context }) => {\n      // Mock geolocation for testing\n      await context.addInitScript((geoIP) => {\n        Object.defineProperty(window, 'userGeoIP', {\n          value: geoIP\n        });\n      }, jurisdiction.geoIP);\n    });\n\n    test(`should show appropriate consent mechanism for ${jurisdiction.name}`, async ({ page }) => {\n      await page.goto('/');\n      \n      if (jurisdiction.requirements.includes('gdpr')) {\n        // Should show GDPR-compliant consent banner\n        await expect(page.locator('[data-testid=\"gdpr-consent-banner\"]')).toBeVisible();\n        await expect(page.locator('[data-testid=\"granular-consent\"]')).toBeVisible();\n      }\n      \n      if (jurisdiction.requirements.includes('ccpa')) {\n        // Should show \"Do Not Sell\" link\n        await expect(page.locator('text=\"Do Not Sell My Personal Information\"')).toBeVisible();\n      }\n      \n      if (jurisdiction.requirements.includes('uk-gdpr')) {\n        // Should show UK GDPR compliant consent\n        await expect(page.locator('[data-testid=\"uk-consent-banner\"]')).toBeVisible();\n      }\n    });\n\n    test(`should handle data requests for ${jurisdiction.name}`, async ({ page }) => {\n      await page.goto('/privacy-rights');\n      \n      // Should have appropriate data request forms\n      if (jurisdiction.requirements.includes('gdpr') || jurisdiction.requirements.includes('uk-gdpr')) {\n        await expect(page.locator('[data-testid=\"data-access-request\"]')).toBeVisible();\n        await expect(page.locator('[data-testid=\"data-deletion-request\"]')).toBeVisible();\n        await expect(page.locator('[data-testid=\"data-portability-request\"]')).toBeVisible();\n      }\n      \n      if (jurisdiction.requirements.includes('ccpa')) {\n        await expect(page.locator('[data-testid=\"ccpa-opt-out-form\"]')).toBeVisible();\n        await expect(page.locator('[data-testid=\"data-access-request\"]')).toBeVisible();\n      }\n    });\n  });\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"8-continuous-compliance-monitoring",children:"8. Continuous Compliance Monitoring"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Compliance Monitoring Dashboard"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// monitoring/compliance-monitor.ts\ninterface ComplianceCheck {\n  jurisdiction: string;\n  requirement: string;\n  status: 'compliant' | 'non-compliant' | 'warning';\n  details: string;\n  lastChecked: Date;\n}\n\nclass ComplianceMonitor {\n  private checks: ComplianceCheck[] = [];\n\n  async runComplianceChecks(): Promise<ComplianceCheck[]> {\n    const checks = await Promise.all([\n      this.checkGDPRCompliance(),\n      this.checkCCPACompliance(),\n      this.checkUKGDPRCompliance(),\n      this.checkLGPDCompliance(),\n      this.checkPIPEDACompliance()\n    ]);\n\n    this.checks = checks.flat();\n    return this.checks;\n  }\n\n  async checkGDPRCompliance(): Promise<ComplianceCheck[]> {\n    const results: ComplianceCheck[] = [];\n    \n    // Check consent banner\n    const consentBannerCheck = await this.testConsentBanner();\n    results.push({\n      jurisdiction: 'EU',\n      requirement: 'Consent Banner',\n      status: consentBannerCheck ? 'compliant' : 'non-compliant',\n      details: consentBannerCheck ? 'Consent banner functioning correctly' : 'Consent banner issues detected',\n      lastChecked: new Date()\n    });\n\n    // Check granular consent\n    const granularConsentCheck = await this.testGranularConsent();\n    results.push({\n      jurisdiction: 'EU',\n      requirement: 'Granular Consent',\n      status: granularConsentCheck ? 'compliant' : 'non-compliant',\n      details: granularConsentCheck ? 'Granular consent options available' : 'Granular consent issues detected',\n      lastChecked: new Date()\n    });\n\n    return results;\n  }\n\n  private async testConsentBanner(): Promise<boolean> {\n    // Implementation to test consent banner\n    return true; // Placeholder\n  }\n\n  private async testGranularConsent(): Promise<boolean> {\n    // Implementation to test granular consent\n    return true; // Placeholder\n  }\n\n  generateComplianceReport(): string {\n    const report = this.checks.map(check => \n      `${check.jurisdiction} - ${check.requirement}: ${check.status}`\n    ).join('\\n');\n    \n    return `Compliance Report (${new Date().toISOString()})\\n${report}`;\n  }\n}\n\n// Usage\nconst monitor = new ComplianceMonitor();\nsetInterval(async () => {\n  await monitor.runComplianceChecks();\n  const report = monitor.generateComplianceReport();\n  console.log(report);\n  \n  // Send to monitoring system\n  // await sendToMonitoringDashboard(report);\n}, 24 * 60 * 60 * 1000); // Daily checks\n"})}),"\n",(0,s.jsx)(n.h3,{id:"9-legal-documentation--audit-trail",children:"9. Legal Documentation & Audit Trail"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Compliance Documentation Generator"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface ComplianceDocumentation {\n  jurisdiction: string;\n  requirements: string[];\n  implementationDetails: string[];\n  auditTrail: AuditEntry[];\n  lastReview: Date;\n}\n\ninterface AuditEntry {\n  date: Date;\n  action: string;\n  user: string;\n  details: string;\n}\n\nclass ComplianceDocumentationGenerator {\n  async generateComplianceReport(jurisdiction: string): Promise<ComplianceDocumentation> {\n    const requirements = await this.getRequirementsForJurisdiction(jurisdiction);\n    const implementation = await this.getImplementationDetails(jurisdiction);\n    const auditTrail = await this.getAuditTrail(jurisdiction);\n\n    return {\n      jurisdiction,\n      requirements,\n      implementationDetails: implementation,\n      auditTrail,\n      lastReview: new Date()\n    };\n  }\n\n  private async getRequirementsForJurisdiction(jurisdiction: string): Promise<string[]> {\n    const requirementMap: Record<string, string[]> = {\n      'EU': [\n        'Explicit consent for non-essential cookies',\n        'Granular consent options',\n        'Right to withdraw consent',\n        'Clear information about cookie purposes',\n        'Data subject rights (access, deletion, portability)'\n      ],\n      'California': [\n        'Do Not Sell My Personal Information link',\n        'Right to know about data collection',\n        'Right to delete personal information',\n        'Right to opt-out of sale/sharing',\n        'Global Privacy Control support'\n      ],\n      'UK': [\n        'UK GDPR compliance',\n        'PECR compliance for electronic marketing',\n        'ICO guidance adherence',\n        'Data subject rights',\n        'Lawful basis for processing'\n      ]\n    };\n\n    return requirementMap[jurisdiction] || [];\n  }\n\n  private async getImplementationDetails(jurisdiction: string): Promise<string[]> {\n    // Return implementation details for the jurisdiction\n    return [\n      'Cookie consent management system implemented',\n      'Granular consent options available',\n      'Withdrawal mechanism provided',\n      'Privacy policy updated',\n      'Data subject request portal available'\n    ];\n  }\n\n  private async getAuditTrail(jurisdiction: string): Promise<AuditEntry[]> {\n    // Return audit trail for compliance activities\n    return [\n      {\n        date: new Date('2024-01-15'),\n        action: 'Cookie consent system updated',\n        user: 'admin@company.com',\n        details: 'Updated consent banner for GDPR compliance'\n      },\n      {\n        date: new Date('2024-02-01'),\n        action: 'Privacy policy revised',\n        user: 'legal@company.com',\n        details: 'Updated privacy policy to include new cookie categories'\n      }\n    ];\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"10-best-practices-for-ongoing-compliance",children:"10. Best Practices for Ongoing Compliance"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Regular Compliance Checklist"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Monthly Reviews"}),":"]}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Test cookie consent flow in different browsers"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Verify consent withdrawal mechanism works"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Check all cookie categories are properly labeled"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Review consent rates and user feedback"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Quarterly Assessments"}),":"]}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Update cookie inventory"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Review third-party integrations for compliance"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Test data subject request processes"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Audit consent records for completeness"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Annual Audits"}),":"]}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Comprehensive legal compliance review"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Privacy impact assessment updates"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Vendor compliance verification"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Documentation and policy updates"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Regulatory Monitoring"}),":"]}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Subscribe to regulatory updates"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Monitor enforcement actions and fines"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Attend privacy law webinars and conferences"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Consult with legal experts regularly"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Automated Compliance Alerts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"class ComplianceAlertSystem {\n  private alerts: ComplianceAlert[] = [];\n\n  async checkComplianceIssues(): Promise<void> {\n    const issues = await Promise.all([\n      this.checkConsentRates(),\n      this.checkCookieInventory(),\n      this.checkPrivacyPolicyUpdates(),\n      this.checkVendorCompliance()\n    ]);\n\n    this.alerts = issues.flat().filter(issue => issue.severity === 'high');\n    \n    if (this.alerts.length > 0) {\n      await this.sendAlerts();\n    }\n  }\n\n  private async checkConsentRates(): Promise<ComplianceAlert[]> {\n    const consentRate = await this.getConsentRate();\n    const alerts: ComplianceAlert[] = [];\n\n    if (consentRate < 0.1) { // Less than 10% consent rate\n      alerts.push({\n        type: 'consent_rate_low',\n        severity: 'high',\n        message: `Consent rate is unusually low: ${(consentRate * 100).toFixed(2)}%`,\n        action: 'Review consent banner UX and messaging'\n      });\n    }\n\n    return alerts;\n  }\n\n  private async sendAlerts(): Promise<void> {\n    // Send alerts to compliance team\n    console.log('Compliance alerts:', this.alerts);\n  }\n\n  private async getConsentRate(): Promise<number> {\n    // Calculate consent rate from analytics\n    return 0.75; // Placeholder\n  }\n}\n\ninterface ComplianceAlert {\n  type: string;\n  severity: 'low' | 'medium' | 'high';\n  message: string;\n  action: string;\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"This comprehensive verification framework helps ensure your website maintains compliance across multiple jurisdictions through automated testing, continuous monitoring, and regular audits. Remember to consult with legal experts for specific compliance advice in each jurisdiction where you operate."}),"\n",(0,s.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsx)(n.p,{children:"Implementing a robust cookie consent management system requires careful consideration of legal requirements, user experience, and technical implementation. This document provides a comprehensive foundation for building a production-ready solution that ensures compliance while maintaining optimal website functionality."}),"\n",(0,s.jsx)(n.p,{children:"Remember to regularly review and update your implementation as regulations evolve and new requirements emerge. Always consult with legal experts for specific compliance advice in your jurisdiction."})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},7814:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>r});var t=i(9729);const s={},o=t.createContext(s);function a(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);