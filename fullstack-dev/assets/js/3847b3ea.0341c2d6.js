"use strict";(self.webpackChunkdocs_site=self.webpackChunkdocs_site||[]).push([[6214],{3368:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"setup","title":"Setup & Installation","description":"This guide will help you set up the Next.js for Production project on your local machine.","source":"@site/docs/setup.md","sourceDirName":".","slug":"/setup","permalink":"/fullstack-dev/docs/setup","draft":false,"unlisted":false,"editUrl":"https://github.com/tamnk74/fullstack-dev/tree/main/docs-site/docs/setup.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/fullstack-dev/docs/intro"},"next":{"title":"Developer Assessment with Development Plans","permalink":"/fullstack-dev/docs/assessments/developer-assessment-with-development-plans"}}');var l=s(5813),t=s(7814);const a={},r="Setup & Installation",o={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation Steps",id:"installation-steps",level:2},{value:"1. Clone the Repository",id:"1-clone-the-repository",level:3},{value:"2. Install Dependencies",id:"2-install-dependencies",level:3},{value:"3. Environment Configuration",id:"3-environment-configuration",level:3},{value:"4. Database Setup",id:"4-database-setup",level:3},{value:"Option A: Using Supabase Cloud",id:"option-a-using-supabase-cloud",level:4},{value:"Option B: Local Supabase Development",id:"option-b-local-supabase-development",level:4},{value:"5. Run the Development Server",id:"5-run-the-development-server",level:3},{value:"Development Tools Setup",id:"development-tools-setup",level:2},{value:"ESLint and Prettier",id:"eslint-and-prettier",level:3},{value:"Git Hooks",id:"git-hooks",level:3},{value:"TypeScript",id:"typescript",level:3},{value:"Optional Services Setup",id:"optional-services-setup",level:2},{value:"Elasticsearch (for Library Search)",id:"elasticsearch-for-library-search",level:3},{value:"Using Docker:",id:"using-docker",level:4},{value:"Initialize search data:",id:"initialize-search-data",level:4},{value:"Redis (for Caching)",id:"redis-for-caching",level:3},{value:"Using Docker:",id:"using-docker-1",level:4},{value:"Docker Setup (Optional)",id:"docker-setup-optional",level:2},{value:"Development with Docker",id:"development-with-docker",level:3},{value:"Production Docker Build",id:"production-docker-build",level:3},{value:"Verification",id:"verification",level:2},{value:"1. Application Health",id:"1-application-health",level:3},{value:"2. API Health",id:"2-api-health",level:3},{value:"3. Authentication",id:"3-authentication",level:3},{value:"4. Database Connection",id:"4-database-connection",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Port Already in Use",id:"port-already-in-use",level:4},{value:"Database Connection Issues",id:"database-connection-issues",level:4},{value:"Elasticsearch Connection Issues",id:"elasticsearch-connection-issues",level:4},{value:"Node Version Issues",id:"node-version-issues",level:4},{value:"Getting Help",id:"getting-help",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"setup--installation",children:"Setup & Installation"})}),"\n",(0,l.jsx)(n.p,{children:"This guide will help you set up the Next.js for Production project on your local machine."}),"\n",(0,l.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsx)(n.p,{children:"Before you begin, ensure you have the following installed:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Node.js"})," (v18.0 or higher) - ",(0,l.jsx)(n.a,{href:"https://nodejs.org/",children:"Download"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"pnpm"})," (recommended package manager) - ",(0,l.jsx)(n.a,{href:"https://pnpm.io/installation",children:"Install pnpm"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Git"})," - ",(0,l.jsx)(n.a,{href:"https://git-scm.com/",children:"Download"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Docker"})," (optional, for containerization) - ",(0,l.jsx)(n.a,{href:"https://www.docker.com/",children:"Download"})]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"installation-steps",children:"Installation Steps"}),"\n",(0,l.jsx)(n.h3,{id:"1-clone-the-repository",children:"1. Clone the Repository"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/tamnk74/fullstack-dev.git\ncd fullstack-dev\n"})}),"\n",(0,l.jsx)(n.h3,{id:"2-install-dependencies",children:"2. Install Dependencies"}),"\n",(0,l.jsx)(n.p,{children:"Using pnpm (recommended):"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pnpm install\n"})}),"\n",(0,l.jsx)(n.p,{children:"Or using npm:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm install\n"})}),"\n",(0,l.jsx)(n.p,{children:"Or using yarn:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"yarn install\n"})}),"\n",(0,l.jsx)(n.h3,{id:"3-environment-configuration",children:"3. Environment Configuration"}),"\n",(0,l.jsx)(n.p,{children:"Create your environment file:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cp .env.example .env.local\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Edit ",(0,l.jsx)(n.code,{children:".env.local"})," with your configuration:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-env",children:"# Next.js Configuration\nNEXT_PUBLIC_APP_URL=http://localhost:3000\n\n# Supabase Configuration\nNEXT_PUBLIC_SUPABASE_URL=your_supabase_url\nNEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key\nSUPABASE_SERVICE_ROLE_KEY=your_service_role_key\n\n# Elasticsearch Configuration (Optional)\nELASTICSEARCH_URL=http://localhost:9200\nELASTICSEARCH_USERNAME=elastic\nELASTICSEARCH_PASSWORD=your_password\n\n# Turnstile Configuration (Optional)\nNEXT_PUBLIC_TURNSTILE_SITE_KEY=your_turnstile_site_key\nTURNSTILE_SECRET_KEY=your_turnstile_secret_key\n\n# Other Configuration\nNODE_ENV=development\n"})}),"\n",(0,l.jsx)(n.h3,{id:"4-database-setup",children:"4. Database Setup"}),"\n",(0,l.jsx)(n.h4,{id:"option-a-using-supabase-cloud",children:"Option A: Using Supabase Cloud"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Create a new project at ",(0,l.jsx)(n.a,{href:"https://supabase.com",children:"supabase.com"})]}),"\n",(0,l.jsxs)(n.li,{children:["Copy your project URL and anon key to ",(0,l.jsx)(n.code,{children:".env.local"})]}),"\n",(0,l.jsx)(n.li,{children:"Run the database migrations:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Install Supabase CLI\nnpm install -g @supabase/cli\n\n# Login to Supabase\nsupabase login\n\n# Link your project\nsupabase link --project-ref your-project-id\n\n# Push database schema\nsupabase db push\n"})}),"\n",(0,l.jsx)(n.h4,{id:"option-b-local-supabase-development",children:"Option B: Local Supabase Development"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Start local Supabase\nsupabase start\n\n# Apply migrations\nsupabase db reset\n"})}),"\n",(0,l.jsx)(n.h3,{id:"5-run-the-development-server",children:"5. Run the Development Server"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pnpm dev\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Open ",(0,l.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"})," in your browser."]}),"\n",(0,l.jsx)(n.h2,{id:"development-tools-setup",children:"Development Tools Setup"}),"\n",(0,l.jsx)(n.h3,{id:"eslint-and-prettier",children:"ESLint and Prettier"}),"\n",(0,l.jsx)(n.p,{children:"These are pre-configured. To run manually:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Lint code\npnpm lint\n\n# Fix linting issues\npnpm lint:fix\n\n# Format code\npnpm format\n"})}),"\n",(0,l.jsx)(n.h3,{id:"git-hooks",children:"Git Hooks"}),"\n",(0,l.jsx)(n.p,{children:"Husky is configured for pre-commit hooks:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Install git hooks\npnpm prepare\n"})}),"\n",(0,l.jsx)(n.h3,{id:"typescript",children:"TypeScript"}),"\n",(0,l.jsx)(n.p,{children:"Check types:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pnpm type-check\n"})}),"\n",(0,l.jsx)(n.h2,{id:"optional-services-setup",children:"Optional Services Setup"}),"\n",(0,l.jsx)(n.h3,{id:"elasticsearch-for-library-search",children:"Elasticsearch (for Library Search)"}),"\n",(0,l.jsx)(n.h4,{id:"using-docker",children:"Using Docker:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'docker run -d \\\n  --name elasticsearch \\\n  -p 9200:9200 \\\n  -p 9300:9300 \\\n  -e "discovery.type=single-node" \\\n  -e "xpack.security.enabled=false" \\\n  elasticsearch:8.8.0\n'})}),"\n",(0,l.jsx)(n.h4,{id:"initialize-search-data",children:"Initialize search data:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pnpm run init-search\n"})}),"\n",(0,l.jsx)(n.h3,{id:"redis-for-caching",children:"Redis (for Caching)"}),"\n",(0,l.jsx)(n.h4,{id:"using-docker-1",children:"Using Docker:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  --name redis \\\n  -p 6379:6379 \\\n  redis:alpine\n"})}),"\n",(0,l.jsx)(n.h2,{id:"docker-setup-optional",children:"Docker Setup (Optional)"}),"\n",(0,l.jsx)(n.h3,{id:"development-with-docker",children:"Development with Docker"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Build and run with Docker Compose\ndocker-compose up -d\n\n# Or build manually\ndocker build -t fullstack-dev .\ndocker run -p 3000:3000 fullstack-dev\n"})}),"\n",(0,l.jsx)(n.h3,{id:"production-docker-build",children:"Production Docker Build"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Build production image\ndocker build -t fullstack-dev:prod --target production .\n\n# Run production container\ndocker run -p 3000:3000 fullstack-dev:prod\n"})}),"\n",(0,l.jsx)(n.h2,{id:"verification",children:"Verification"}),"\n",(0,l.jsx)(n.p,{children:"After setup, verify everything works:"}),"\n",(0,l.jsx)(n.h3,{id:"1-application-health",children:"1. Application Health"}),"\n",(0,l.jsxs)(n.p,{children:["Visit ",(0,l.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"})," - should show the homepage"]}),"\n",(0,l.jsx)(n.h3,{id:"2-api-health",children:"2. API Health"}),"\n",(0,l.jsxs)(n.p,{children:["Visit ",(0,l.jsx)(n.a,{href:"http://localhost:3000/api/health",children:"http://localhost:3000/api/health"})," - should return status OK"]}),"\n",(0,l.jsx)(n.h3,{id:"3-authentication",children:"3. Authentication"}),"\n",(0,l.jsx)(n.p,{children:"Try creating an account and logging in"}),"\n",(0,l.jsx)(n.h3,{id:"4-database-connection",children:"4. Database Connection"}),"\n",(0,l.jsx)(n.p,{children:"Check if data loads correctly in the application"}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,l.jsx)(n.h4,{id:"port-already-in-use",children:"Port Already in Use"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Kill process on port 3000\nnpx kill-port 3000\n\n# Or use different port\npnpm dev -- -p 3001\n"})}),"\n",(0,l.jsx)(n.h4,{id:"database-connection-issues",children:"Database Connection Issues"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Verify Supabase credentials in ",(0,l.jsx)(n.code,{children:".env.local"})]}),"\n",(0,l.jsx)(n.li,{children:"Check if Supabase project is active"}),"\n",(0,l.jsx)(n.li,{children:"Ensure database migrations are applied"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"elasticsearch-connection-issues",children:"Elasticsearch Connection Issues"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Verify Elasticsearch is running: ",(0,l.jsx)(n.code,{children:"curl http://localhost:9200"})]}),"\n",(0,l.jsxs)(n.li,{children:["Check credentials and URL in ",(0,l.jsx)(n.code,{children:".env.local"})]}),"\n",(0,l.jsx)(n.li,{children:"Restart Elasticsearch service"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"node-version-issues",children:"Node Version Issues"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check Node version\nnode --version\n\n# Use nvm to switch versions\nnvm use 18\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getting-help",children:"Getting Help"}),"\n",(0,l.jsx)(n.p,{children:"If you encounter issues:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Check the ",(0,l.jsx)(n.a,{href:"https://github.com/tamnk74/fullstack-dev/issues",children:"GitHub Issues"})]}),"\n",(0,l.jsx)(n.li,{children:"Review the common troubleshooting section above"}),"\n",(0,l.jsx)(n.li,{children:"Create a new issue with detailed information"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsx)(n.p,{children:"After successful setup:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Explore the ",(0,l.jsx)(n.a,{href:"/fullstack-dev/docs/features",children:"Features Documentation"})]}),"\n",(0,l.jsxs)(n.li,{children:["Learn about ",(0,l.jsx)(n.a,{href:"/fullstack-dev/docs/testing",children:"Testing"})]}),"\n",(0,l.jsxs)(n.li,{children:["Review ",(0,l.jsx)(n.a,{href:"/fullstack-dev/docs/deployment",children:"Deployment"})," options"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},7814:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>r});var i=s(9729);const l={},t=i.createContext(l);function a(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);