"use strict";(self.webpackChunkdocs_site=self.webpackChunkdocs_site||[]).push([[2443],{7814:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var t=i(9729);const s={},r=t.createContext(s);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:n},e.children)}},9896:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"architecture","title":"Architecture Overview","description":"This document provides a comprehensive overview of the Next.js for Production application architecture, following modern best practices and design patterns.","source":"@site/docs/architecture.md","sourceDirName":".","slug":"/architecture","permalink":"/fullstack-dev/docs/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/tamnk74/fullstack-dev/tree/main/docs-site/docs/architecture.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Setup & Installation","permalink":"/fullstack-dev/docs/setup"},"next":{"title":"Architecture Maturity Assessment Guide","permalink":"/fullstack-dev/docs/architecture-maturity-assessment"}}');var s=i(5813),r=i(7814);const l={},o="Architecture Overview",c={},a=[{value:"Project Structure",id:"project-structure",level:2},{value:"Design Patterns",id:"design-patterns",level:2},{value:"Atomic Design",id:"atomic-design",level:3},{value:"Feature-Based Architecture",id:"feature-based-architecture",level:3},{value:"Technology Stack",id:"technology-stack",level:2},{value:"Frontend",id:"frontend",level:3},{value:"Backend &amp; Database",id:"backend--database",level:3},{value:"Authentication &amp; Authorization",id:"authentication--authorization",level:3},{value:"Testing",id:"testing",level:3},{value:"Development Tools",id:"development-tools",level:3},{value:"Data Flow",id:"data-flow",level:2},{value:"Client-Side Data Flow",id:"client-side-data-flow",level:3},{value:"Authentication Flow",id:"authentication-flow",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Data Protection",id:"data-protection",level:3},{value:"Input Validation",id:"input-validation",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Frontend",id:"frontend-1",level:3},{value:"Backend",id:"backend",level:3},{value:"Deployment Architecture",id:"deployment-architecture",level:2},{value:"Container Strategy",id:"container-strategy",level:3},{value:"CI/CD Pipeline",id:"cicd-pipeline",level:3},{value:"Monitoring &amp; Observability",id:"monitoring--observability",level:2},{value:"Application Monitoring",id:"application-monitoring",level:3},{value:"Infrastructure Monitoring",id:"infrastructure-monitoring",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"architecture-overview",children:"Architecture Overview"})}),"\n",(0,s.jsx)(n.p,{children:"This document provides a comprehensive overview of the Next.js for Production application architecture, following modern best practices and design patterns."}),"\n",(0,s.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"src/\n\u251c\u2500\u2500 app/                   # Next.js App Router pages and layouts\n\u251c\u2500\u2500 components/            # UI Components (Atomic Design)\n\u2502   \u251c\u2500\u2500 atoms/             # Basic building blocks (Button, Input, Label)\n\u2502   \u251c\u2500\u2500 molecules/         # Grouped atoms (SearchBox, FormField)\n\u2502   \u251c\u2500\u2500 organisms/         # Complex UI structures (Header, Sidebar)\n\u2502   \u2514\u2500\u2500 templates/         # Page layouts (AuthLayout, DashboardLayout)\n\u251c\u2500\u2500 entities/              # Business entities and domain models\n\u251c\u2500\u2500 features/              # Feature-based modules\n\u251c\u2500\u2500 hooks/                 # Custom React hooks\n\u251c\u2500\u2500 i18n/                  # Internationalization configuration\n\u251c\u2500\u2500 shared/                # Shared utilities and components\n\u251c\u2500\u2500 types/                 # TypeScript type definitions\n\u2514\u2500\u2500 utils/                 # Utility functions and helpers\n"})}),"\n",(0,s.jsx)(n.h2,{id:"design-patterns",children:"Design Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"atomic-design",children:"Atomic Design"}),"\n",(0,s.jsx)(n.p,{children:"We follow Brad Frost's Atomic Design methodology:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Atoms"}),": Basic HTML elements and fundamental UI components"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Molecules"}),": Groups of atoms that work together as functional units"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Organisms"}),": Complex UI components composed of molecules and atoms"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Templates"}),": Page-level objects that provide context for organisms"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Pages"}),": Specific instances of templates with real content"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"feature-based-architecture",children:"Feature-Based Architecture"}),"\n",(0,s.jsx)(n.p,{children:"Each major feature is organized as a self-contained module:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"features/\n\u251c\u2500\u2500 auth/\n\u2502   \u251c\u2500\u2500 components/\n\u2502   \u251c\u2500\u2500 hooks/\n\u2502   \u251c\u2500\u2500 services/\n\u2502   \u2514\u2500\u2500 types/\n\u251c\u2500\u2500 calendar/\n\u2502   \u251c\u2500\u2500 components/\n\u2502   \u251c\u2500\u2500 hooks/\n\u2502   \u251c\u2500\u2500 services/\n\u2502   \u2514\u2500\u2500 types/\n\u2514\u2500\u2500 library/\n    \u251c\u2500\u2500 components/\n    \u251c\u2500\u2500 hooks/\n    \u251c\u2500\u2500 services/\n    \u2514\u2500\u2500 types/\n"})}),"\n",(0,s.jsx)(n.h2,{id:"technology-stack",children:"Technology Stack"}),"\n",(0,s.jsx)(n.h3,{id:"frontend",children:"Frontend"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Next.js 14+"}),": React framework with App Router"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TypeScript"}),": Type-safe JavaScript"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Tailwind CSS"}),": Utility-first CSS framework"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"React Query"}),": Data fetching and state management"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Radix UI"}),": Headless UI components"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Framer Motion"}),": Animation library"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"backend--database",children:"Backend & Database"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Supabase"}),": Backend-as-a-Service with PostgreSQL"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Elasticsearch"}),": Search and analytics engine"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Redis"}),": Caching and session storage"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"authentication--authorization",children:"Authentication & Authorization"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Supabase Auth"}),": Authentication provider"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Row Level Security (RLS)"}),": Database-level authorization"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"RBAC"}),": Role-based access control system"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"testing",children:"Testing"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Vitest"}),": Unit testing framework"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Playwright"}),": End-to-end testing"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Artillery"}),": Performance testing"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"development-tools",children:"Development Tools"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ESLint"}),": Code linting"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Prettier"}),": Code formatting"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Husky"}),": Git hooks"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Commitlint"}),": Commit message linting"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TypeScript"}),": Static type checking"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"data-flow",children:"Data Flow"}),"\n",(0,s.jsx)(n.h3,{id:"client-side-data-flow",children:"Client-Side Data Flow"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"User Interaction"}),": User interacts with UI components"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"React Query"}),": Handles API calls and caching"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API Routes"}),": Next.js API routes process requests"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Database"}),": Supabase handles data persistence"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Real-time Updates"}),": Supabase real-time subscriptions"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"authentication-flow",children:"Authentication Flow"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Login"}),": User authenticates via Supabase Auth"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Session"}),": JWT token stored in secure cookies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authorization"}),": RLS policies enforce permissions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Role-Based Access"}),": RBAC system controls feature access"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,s.jsx)(n.h3,{id:"data-protection",children:"Data Protection"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Row Level Security"}),": Database-level access control"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"JWT Tokens"}),": Secure session management"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"HTTPS Only"}),": All communications encrypted"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CSRF Protection"}),": Built-in Next.js protection"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"input-validation",children:"Input Validation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Schema Validation"}),": Zod for runtime type checking"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sanitization"}),": Input sanitization on all endpoints"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rate Limiting"}),": API rate limiting with Arcjet"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,s.jsx)(n.h3,{id:"frontend-1",children:"Frontend"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Code Splitting"}),": Automatic with Next.js"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Image Optimization"}),": Next.js Image component"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Lazy Loading"}),": Component and route-based lazy loading"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Bundle Analysis"}),": webpack-bundle-analyzer"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"backend",children:"Backend"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Database Indexing"}),": Optimized PostgreSQL indexes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Query Optimization"}),": Efficient database queries"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Caching"}),": Redis caching for frequent queries"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CDN"}),": Static asset delivery via CDN"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"deployment-architecture",children:"Deployment Architecture"}),"\n",(0,s.jsx)(n.h3,{id:"container-strategy",children:"Container Strategy"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Docker"}),": Multi-stage builds for optimization"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Kubernetes"}),": Container orchestration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Health Checks"}),": Application and database health monitoring"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"cicd-pipeline",children:"CI/CD Pipeline"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"GitHub Actions"}),": Automated testing and deployment"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Staging Environment"}),": Pre-production testing"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Blue-Green Deployment"}),": Zero-downtime deployments"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"monitoring--observability",children:"Monitoring & Observability"}),"\n",(0,s.jsx)(n.h3,{id:"application-monitoring",children:"Application Monitoring"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Error Tracking"}),": Sentry for error monitoring"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Performance Monitoring"}),": Web Vitals tracking"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"User Analytics"}),": Privacy-focused analytics"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"infrastructure-monitoring",children:"Infrastructure Monitoring"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Health Checks"}),": Application health endpoints"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Logging"}),": Structured logging for debugging"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Metrics"}),": Performance and usage metrics"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);